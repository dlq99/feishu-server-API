## åˆ›å»ºç­æ¬¡

ç­æ¬¡æ˜¯æè¿°ä¸€æ¬¡è€ƒå‹¤ä»»åŠ¡æ—¶é—´è§„åˆ™çš„ç»Ÿç§°ï¼Œæ¯”å¦‚ä¸€å¤©æ‰“å¤šå°‘æ¬¡å¡ï¼Œæ¯æ¬¡å¡çš„ä¸Šä¸‹ç­æ—¶é—´ï¼Œæ™šåˆ°å¤šé•¿æ—¶é—´ç®—è¿Ÿåˆ°ï¼Œæ™šåˆ°å¤šé•¿æ—¶é—´ç®—ç¼ºå¡ç­‰ã€‚åœ¨å‡å‹¤è®¾ç½®-[ç­æ¬¡è®¾ç½®](https://example.feishu.cn/people/workforce-management/setting/group/shifts)ä¸­ç‚¹å‡»ç­æ¬¡åç§°å¯ä»¥è¿›è¡Œç­æ¬¡è¯¦æƒ…æŸ¥çœ‹ã€‚å¦‚æœå…¥å‚ä¸­ä¼ å…¥äº†ç­æ¬¡idï¼Œé‚£ä¹ˆæ”¯æŒç¼–è¾‘ç­æ¬¡çš„èƒ½åŠ›

ğŸ’¡ 
 - åˆ›å»ºä¸€ä¸ªè€ƒå‹¤ç»„å‰ï¼Œå¿…é¡»å…ˆåˆ›å»ºä¸€ä¸ªæˆ–è€…å¤šä¸ªç­æ¬¡ã€‚
- ä¸€ä¸ªå…¬å¸å†…çš„ç­æ¬¡æ˜¯å…±äº«çš„ï¼Œä½ å¯ä»¥ç›´æ¥å¼•ç”¨ä»–äººåˆ›å»ºçš„ç­æ¬¡ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥ä»–äººä¿®æ”¹äº†ç­æ¬¡ï¼Œä¼šå½±å“åˆ°ä½ çš„è€ƒå‹¤ç»„åŠå…¶è€ƒå‹¤ç»“æœã€‚

## è¯·æ±‚

| åŸºæœ¬ | |
| --- | --- |
| HTTP URL | `https://open.feishu.cn/open-apis/attendance/v1/shifts` |
| HTTP Method | POST |
| æ”¯æŒçš„è®¿é—®ä»¤ç‰Œ | tenant_access_token |
| æ”¯æŒçš„åº”ç”¨ç±»å‹ | custom |
| æƒé™è¦æ±‚ | å†™å…¥æ‰“å¡ç®¡ç†è§„åˆ™ |
| æƒé™è¦æ±‚ | attendance:rule |

### æŸ¥è¯¢å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
| ------ | ---- | ---- | ---- |
| employee_type | string | å¦ | è¯·æ±‚ä½“ä¸­çš„ user_ids å’Œå“åº”ä½“ä¸­çš„ user_id çš„å‘˜å·¥IDç±»å‹ã€‚å¦‚æœæ²¡æœ‰åå°ç®¡ç†æƒé™ï¼Œå¯ä½¿ç”¨[é€šè¿‡æ‰‹æœºå·æˆ–é‚®ç®±è·å–ç”¨æˆ· ID](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/user/batch_get_id) |
### è¯·æ±‚ä½“

| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
| ------ | ---- | ---- | ---- |
| shift_name | string | æ˜¯ | ç­æ¬¡åç§°ï¼Œä¸å¯é‡å¤ <br> **ç¤ºä¾‹**: æ—©ç­  |
| punch_times | integer | æ˜¯ | æ‰“å¡æ¬¡æ•°ï¼ˆå†å²å­—æ®µï¼Œå·²æ— ç”¨ï¼Œä»¥punch_time_ruleä¸ºå‡†ï¼‰ <br> **ç¤ºä¾‹**: 1  |
| sub_shift_leader_ids | undefined[] | å¦ | ç­æ¬¡è´Ÿè´£äººï¼Œä¸employee_typeç±»å‹å¯¹åº” <br> **ç¤ºä¾‹**:   |
| is_flexible | boolean | å¦ | æ˜¯å¦å¼¹æ€§æ‰“å¡ï¼Œé»˜è®¤ä¸ºfalseï¼Œä¸å¼€å¯ <br> **ç¤ºä¾‹**: false  |
| flexible_minutes | integer | å¦ | å¼¹æ€§æ‰“å¡æ—¶é—´ï¼Œå•ä½ï¼šåˆ†é’Ÿï¼Œè®¾ç½®ã€ä¸Šç­æœ€å¤šå¯æ™šåˆ°ã€‘ä¸ã€ä¸‹ç­æœ€å¤šå¯æ—©èµ°ã€‘æ—¶é—´ã€‚ä»…å½“æœªè®¾ç½® flexible_rule å‚æ•°æ—¶ï¼Œè¯¥å‚æ•°ç”Ÿæ•ˆã€‚å¦‚æœè®¾ç½®äº† flexible_rule å‚æ•°ï¼Œåˆ™è¯¥å‚æ•°ä¸ç”Ÿæ•ˆ <br> **ç¤ºä¾‹**: 60  |
| flexible_rule | flexible_rule[] | å¦ | å¼¹æ€§æ‰“å¡æ—¶é—´è®¾ç½® <br> **ç¤ºä¾‹**:   |
| no_need_off | boolean | å¦ | trueä¸ºä¸éœ€è¦æ‰“ä¸‹ç­å¡ã€‚é»˜è®¤ä¸ºfalseï¼Œéœ€è¦ä¸‹ç­æ‰“å¡ <br> **ç¤ºä¾‹**: true  |
| punch_time_rule | punch_time_rule[] | æ˜¯ | æ‰“å¡è§„åˆ™ <br> **ç¤ºä¾‹**:   |
| late_off_late_on_rule | late_off_late_on_rule[] | å¦ | æ™šèµ°æ™šåˆ°è§„åˆ™ï¼ˆä»…é£ä¹¦äººäº‹ä¼ä¸šç‰ˆå¯ç”¨ï¼‰ <br> **ç¤ºä¾‹**:   |
| rest_time_rule | rest_rule[] | å¦ | ä¼‘æ¯è§„åˆ™ <br> **ç¤ºä¾‹**:   |
| overtime_rule | overtime_rule[] | å¦ | åŠ ç­æ—¶æ®µï¼ˆä»…é£ä¹¦äººäº‹ä¼ä¸šç‰ˆå¯ç”¨ï¼‰ <br> **ç¤ºä¾‹**:   |
| day_type | integer | å¦ | æ—¥æœŸç±»å‹ï¼Œã€æ˜¯å¦å¼¹æ€§æ‰“å¡ = tureã€‘æ—¶ï¼Œä¸å¯è®¾ç½®ä¸ºâ€œä¼‘æ¯æ—¥â€  å¯é€‰å€¼ï¼š1ï¼šå·¥ä½œæ—¥ 2ï¼šä¼‘æ¯æ—¥ã€‚é»˜è®¤å€¼ï¼š1 <br> **ç¤ºä¾‹**: 1  |
| overtime_rest_time_rule | rest_rule[] | å¦ | ç­å¤–ä¼‘æ¯è§„åˆ™ <br> **ç¤ºä¾‹**:   |
| late_minutes_as_serious_late | integer | å¦ | æ™šåˆ°å¤šä¹…è®°ä¸ºä¸¥é‡è¿Ÿåˆ°ã€‚å•ä½ï¼šåˆ†é’Ÿï¼ˆä¼˜å…ˆçº§é«˜äºdata.shift.punch_time_rule.late_minutes_as_serious_lateï¼‰ <br> **ç¤ºä¾‹**: 40  |
| shift_middle_time_rule | object | å¦ | åŠå¤©åˆ†å‰²è§„åˆ™ï¼ˆä»…é£ä¹¦äººäº‹ä¼ä¸šç‰ˆå¯ç”¨ï¼‰ <br> **ç¤ºä¾‹**:   |
| shift_attendance_time_config | object | å¦ | åº”å‡ºå‹¤é…ç½®ï¼ˆç°åº¦ä¸­ï¼Œæš‚æœªå¼€æ”¾ï¼‰ <br> **ç¤ºä¾‹**:   |
| late_off_late_on_setting | object | å¦ | æ™šèµ°æ¬¡æ—¥æ™šåˆ°é…ç½®è§„åˆ™ <br> **ç¤ºä¾‹**:   |
| id | string | å¦ | ç­æ¬¡id(æ›´æ–°ç­æ¬¡æ—¶éœ€è¦ä¼ é€’)ï¼Œè·å–æ–¹å¼ï¼š1ï¼‰[æŒ‰åç§°æŸ¥è¯¢ç­æ¬¡](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/attendance-v1/shift/query) 2ï¼‰[åˆ›å»ºç­æ¬¡](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/attendance-v1/shift/create) <br> **ç¤ºä¾‹**: 6919358778597097404  |

**ç±»å‹é¢å¤–è¯´æ˜**:

- **flexible_rule** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   flexible_early_minutes: integer <br> flexible_late_minutes: integer <br>
- **punch_time_rule** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   on_time: string <br> off_time: string <br> late_minutes_as_late: integer <br> late_minutes_as_lack: integer <br> on_advance_minutes: integer <br> early_minutes_as_early: integer <br> early_minutes_as_lack: integer <br> off_delay_minutes: integer <br> late_minutes_as_serious_late: integer <br> no_need_on: boolean <br> no_need_off: boolean <br>
- **late_off_late_on_rule** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   late_off_minutes: integer <br> late_on_minutes: integer <br>
- **rest_rule** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   rest_begin_time: string <br> rest_end_time: string <br>
- **overtime_rule** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   on_overtime: string <br> off_overtime: string <br>
- **rest_rule** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   rest_begin_time: string <br> rest_end_time: string <br>
- **shift_middle_time_rule** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   middle_time_type: integer <br> fixed_middle_time: string <br>
- **shift_attendance_time_config** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   attendance_time: number <br> on_attendance_time: number <br> off_attendance_time: number <br>
- **late_off_late_on_setting** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   late_off_base_on_time_type: integer <br> late_on_base_on_time_type: integer <br>


**è¯·æ±‚ä½“ç¤ºä¾‹**:

```json
{
    "shift_name": "æ—©ç­",
    "punch_times": 1,
    "sub_shift_leader_ids": [
        "456123"
    ],
    "is_flexible": false,
    "flexible_minutes": 60,
    "flexible_rule": [
        {
            "flexible_early_minutes": 60,
            "flexible_late_minutes": 60
        }
    ],
    "no_need_off": true,
    "punch_time_rule": [
        {
            "on_time": "9:00",
            "off_time": "18:00",
            "late_minutes_as_late": 30,
            "late_minutes_as_lack": 60,
            "on_advance_minutes": 60,
            "early_minutes_as_early": 30,
            "early_minutes_as_lack": 60,
            "off_delay_minutes": 60,
            "late_minutes_as_serious_late": 40,
            "no_need_on": true,
            "no_need_off": true
        }
    ],
    "late_off_late_on_rule": [
        {
            "late_off_minutes": 60,
            "late_on_minutes": 30
        }
    ],
    "rest_time_rule": [
        {
            "rest_begin_time": "13:00",
            "rest_end_time": "14:00"
        }
    ],
    "overtime_rule": [
        {
            "on_overtime": "9:00",
            "off_overtime": "18:00"
        }
    ],
    "day_type": 1,
    "overtime_rest_time_rule": [
        {
            "rest_begin_time": "13:00",
            "rest_end_time": "14:00"
        }
    ],
    "late_minutes_as_serious_late": 40,
    "shift_middle_time_rule": {
        "middle_time_type": 0,
        "fixed_middle_time": "12:00"
    },
    "shift_attendance_time_config": {
        "attendance_time": 1,
        "on_attendance_time": 1,
        "off_attendance_time": 1
    },
    "late_off_late_on_setting": {
        "late_off_base_on_time_type": 0,
        "late_on_base_on_time_type": 0
    },
    "id": "6919358778597097404"
}
```

### å“åº”

**å“åº”ç¤ºä¾‹**:

```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "shift": {
            "shift_id": "6919358778597097404",
            "shift_name": "æ—©ç­",
            "punch_times": 1,
            "sub_shift_leader_ids": [
                "456123"
            ],
            "is_flexible": false,
            "flexible_minutes": 60,
            "flexible_rule": [
                {
                    "flexible_early_minutes": 60,
                    "flexible_late_minutes": 60
                }
            ],
            "no_need_off": true,
            "punch_time_rule": [
                {
                    "on_time": "9:00",
                    "off_time": "18:00ï¼Œ ç¬¬äºŒå¤©å‡Œæ™¨2ç‚¹ï¼Œ 26:00",
                    "late_minutes_as_late": 30,
                    "late_minutes_as_lack": 60,
                    "on_advance_minutes": 60,
                    "early_minutes_as_early": 30,
                    "early_minutes_as_lack": 60,
                    "off_delay_minutes": 60,
                    "late_minutes_as_serious_late": 40,
                    "no_need_on": true,
                    "no_need_off": true
                }
            ],
            "late_off_late_on_rule": [
                {
                    "late_off_minutes": 60,
                    "late_on_minutes": 30
                }
            ],
            "rest_time_rule": [
                {
                    "rest_begin_time": "13:00",
                    "rest_end_time": "14:00"
                }
            ],
            "overtime_rule": [
                {
                    "on_overtime": "9:00",
                    "off_overtime": "18:00"
                }
            ],
            "day_type": 1,
            "overtime_rest_time_rule": [
                {
                    "rest_begin_time": "13:00",
                    "rest_end_time": "14:00"
                }
            ],
            "late_minutes_as_serious_late": 40,
            "shift_middle_time_rule": {
                "middle_time_type": 0,
                "fixed_middle_time": "12:00"
            },
            "shift_attendance_time_config": {
                "attendance_time": 1,
                "on_attendance_time": 1,
                "off_attendance_time": 1
            },
            "late_off_late_on_setting": {
                "late_off_base_on_time_type": 0,
                "late_on_base_on_time_type": 0
            },
            "id": "6919358778597097404"
        }
    }
}
```

### é”™è¯¯ç 

| HTTPçŠ¶æ€ç  | é”™è¯¯ç  | æè¿° | æ’æŸ¥å»ºè®® |
| ---------- | ------ | ---- | -------- |
| 400 | 1220001 | param is invalis | å…¥å‚æ ¡éªŒå¤±è´¥ï¼Œè¯·æ ¹æ®å…·ä½“è¿”å›çš„ä¿¡æ¯æ£€æŸ¥å…¥å‚ã€‚ä¾‹å¦‚â€œemployee_type invalidâ€ä»£è¡¨äººå‘˜ç±»å‹å¼‚å¸¸ã€‚å¦‚ä»æ— æ³•è§£å†³å¯è”ç³» [æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW) |
| 400 | 1220002 | tenant_id is empty | è¯·æ£€æŸ¥å…¥å‚ä¸­çš„ tenant_access_tokenæ˜¯å¦æ­£ç¡® |
| 400 | 1220005 | æ²¡æœ‰æƒé™ | è¯·å‰å¾€[è€ƒå‹¤ç®¡ç†åå°](https://oa.feishu.cn/attendance/manage/member/list)æ£€æŸ¥æ•°æ®æƒé™èŒƒå›´ |
| 500 | 1225000 | param is invalis | è¯·å‚è€ƒå®é™…è¿”å›çš„é”™è¯¯ä¿¡æ¯æ’æŸ¥é—®é¢˜ã€‚ä¾‹å¦‚â€œinternal server errorâ€ä»£è¡¨å†…éƒ¨æœåŠ¡å¼‚å¸¸ã€‚å¦‚ä»æ— æ³•è§£å†³å¯è”ç³» [æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW) |
| 500 | 1226000 | param is invalis | ç­æ¬¡æœåŠ¡å¼‚å¸¸é”™è¯¯ç ï¼Œè¯·å‚è€ƒå®é™…è¿”å›çš„é”™è¯¯ä¿¡æ¯æ’æŸ¥é—®é¢˜ã€‚ä¾‹å¦‚â€œinternal server errorâ€ä»£è¡¨å†…éƒ¨æœåŠ¡å¼‚å¸¸ã€‚å¦‚ä»æ— æ³•è§£å†³å¯è”ç³» [æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW) |
| 400 | 1226001 | å†å²é”™è¯¯ç ï¼Œä¸å†ä½¿ç”¨ | - |
| 400 | 1226002 | å†å²é”™è¯¯ç ï¼Œä¸å†ä½¿ç”¨ | - |
| 400 | 1220600 | é€šç”¨é”™è¯¯ä¿¡æ¯ | é€šç”¨é”™è¯¯ä¿¡æ¯åŒ…å«å¤šæ¡ï¼Œè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ä»¥åŠå¤„ç†å»ºè®®å¯å‚è§[é”™è¯¯ä¿¡æ¯](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/attendance-v1/attendance-development-guidelines)ã€‚ |

### è°ƒç”¨ç¤ºä¾‹

#### Python SDK

```python
import json

import lark_oapi as lark
from lark_oapi.api.attendance.v1 import *


# SDK ä½¿ç”¨è¯´æ˜: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/python--sdk/preparations-before-development
# ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
# å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
def main():
    # åˆ›å»ºclient
    client = lark.Client.builder() \
        .app_id("YOUR_APP_ID") \
        .app_secret("YOUR_APP_SECRET") \
        .log_level(lark.LogLevel.DEBUG) \
        .build()

    # æ„é€ è¯·æ±‚å¯¹è±¡
    request: CreateShiftRequest = CreateShiftRequest.builder() \
        .employee_type("employee_id") \
        .request_body(Shift.builder()
            .shift_name("æ—©ç­")
            .punch_times(1)
            .sub_shift_leader_ids(["456123"])
            .is_flexible(False)
            .flexible_minutes(60)
            .flexible_rule([FlexibleRule.builder()
                .flexible_early_minutes(60)
                .flexible_late_minutes(60)
                .build()
                ])
            .no_need_off(True)
            .punch_time_rule([PunchTimeRule.builder()
                .on_time("9:00")
                .off_time("18:00")
                .late_minutes_as_late(30)
                .late_minutes_as_lack(60)
                .on_advance_minutes(60)
                .early_minutes_as_early(30)
                .early_minutes_as_lack(60)
                .off_delay_minutes(60)
                .late_minutes_as_serious_late(40)
                .no_need_on(True)
                .no_need_off(True)
                .build()
                ])
            .late_off_late_on_rule([LateOffLateOnRule.builder()
                .late_off_minutes(60)
                .late_on_minutes(30)
                .build()
                ])
            .rest_time_rule([RestRule.builder()
                .rest_begin_time("13:00")
                .rest_end_time("14:00")
                .build()
                ])
            .overtime_rule([OvertimeRule.builder()
                .on_overtime("9:00")
                .off_overtime("18:00")
                .build()
                ])
            .day_type(1)
            .overtime_rest_time_rule([RestRule.builder()
                .rest_begin_time("13:00")
                .rest_end_time("14:00")
                .build()
                ])
            .late_minutes_as_serious_late(40)
            .shift_middle_time_rule(ShiftMiddleTimeRule.builder()
                .middle_time_type(0)
                .fixed_middle_time("12:00")
                .build())
            .shift_attendance_time_config(ShiftAttendanceTimeConfig.builder()
                .attendance_time(1)
                .on_attendance_time(1)
                .off_attendance_time(1)
                .build())
            .late_off_late_on_setting(LateOffLateOnSetting.builder()
                .late_off_base_on_time_type(0)
                .late_on_base_on_time_type(0)
                .build())
            .id("6919358778597097404")
            .build()) \
        .build()

    # å‘èµ·è¯·æ±‚
    response: CreateShiftResponse = client.attendance.v1.shift.create(request)

    # å¤„ç†å¤±è´¥è¿”å›
    if not response.success():
        lark.logger.error(
            f"client.attendance.v1.shift.create failed, code: {response.code}, msg: {response.msg}, log_id: {response.get_log_id()}, resp: \n{json.dumps(json.loads(response.raw.content), indent=4, ensure_ascii=False)}")
        return

    # å¤„ç†ä¸šåŠ¡ç»“æœ
    lark.logger.info(lark.JSON.marshal(response.data, indent=4))


if __name__ == "__main__":
    main()

```

#### Java SDK

```java
package com.lark.oapi.sample.apiall.attendancev1;
import com.google.gson.JsonParser;
import com.lark.oapi.Client;
import com.lark.oapi.core.utils.Jsons;
import com.lark.oapi.service.attendance.v1.model.*;
import java.util.HashMap;
import com.lark.oapi.core.request.RequestOptions;

// SDK ä½¿ç”¨æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/java-sdk-guide/preparations
// å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
public class CreateShiftSample{

  public static void main(String arg[]) throws Exception {
      // æ„å»ºclient
      Client client = Client.newBuilder("YOUR_APP_ID", "YOUR_APP_SECRET").build();

      // åˆ›å»ºè¯·æ±‚å¯¹è±¡
      CreateShiftReq req = CreateShiftReq.newBuilder()
             .employeeType("employee_id")
             .shift(Shift.newBuilder()
                 .shiftName("æ—©ç­")
                 .punchTimes(1)
                 .subShiftLeaderIds(new String[]{"456123"})
                 .isFlexible(false)
                 .flexibleMinutes(60)
                 .flexibleRule(new FlexibleRule[]{
                    FlexibleRule.newBuilder()
                      .flexibleEarlyMinutes(60)
                      .flexibleLateMinutes(60)
                      .build()
                    })
                 .noNeedOff(true)
                 .punchTimeRule(new PunchTimeRule[]{
                    PunchTimeRule.newBuilder()
                      .onTime("9:00")
                      .offTime("18:00")
                      .lateMinutesAsLate(30)
                      .lateMinutesAsLack(60)
                      .onAdvanceMinutes(60)
                      .earlyMinutesAsEarly(30)
                      .earlyMinutesAsLack(60)
                      .offDelayMinutes(60)
                      .lateMinutesAsSeriousLate(40)
                      .noNeedOn(true)
                      .noNeedOff(true)
                      .build()
                    })
                 .lateOffLateOnRule(new LateOffLateOnRule[]{
                    LateOffLateOnRule.newBuilder()
                      .lateOffMinutes(60)
                      .lateOnMinutes(30)
                      .build()
                    })
                 .restTimeRule(new RestRule[]{
                    RestRule.newBuilder()
                      .restBeginTime("13:00")
                      .restEndTime("14:00")
                      .build()
                    })
                 .overtimeRule(new OvertimeRule[]{
                    OvertimeRule.newBuilder()
                      .onOvertime("9:00")
                      .offOvertime("18:00")
                      .build()
                    })
                 .dayType(1)
                 .overtimeRestTimeRule(new RestRule[]{
                    RestRule.newBuilder()
                      .restBeginTime("13:00")
                      .restEndTime("14:00")
                      .build()
                    })
                 .lateMinutesAsSeriousLate(40)
                 .shiftMiddleTimeRule(ShiftMiddleTimeRule.newBuilder()
                        .middleTimeType(0)
                        .fixedMiddleTime("12:00")
                        .build())
                 .shiftAttendanceTimeConfig(ShiftAttendanceTimeConfig.newBuilder()
                        .attendanceTime(1)
                        .onAttendanceTime(1)
                        .offAttendanceTime(1)
                        .build())
                 .lateOffLateOnSetting(LateOffLateOnSetting.newBuilder()
                        .lateOffBaseOnTimeType(0)
                        .lateOnBaseOnTimeType(0)
                        .build())
                 .id("6919358778597097404")
                  .build())
             .build();

      // å‘èµ·è¯·æ±‚
      CreateShiftResp resp = client.attendance().v1().shift().create(req);

       // å¤„ç†æœåŠ¡ç«¯é”™è¯¯
       if (!resp.success()) {
         System.out.println(String.format("code:%s,msg:%s,reqId:%s, resp:%s",
                    resp.getCode(), resp.getMsg(), resp.getRequestId(), Jsons.createGSON(true, false).toJson(JsonParser.parseString(new String(resp.getRawResponse().getBody(), StandardCharsets.UTF_8)))));
         return;
       }

       // ä¸šåŠ¡æ•°æ®å¤„ç†
         System.out.println(Jsons.DEFAULT.toJson(resp.getData()));
  }
}

```

#### Nodejs SDK

```javascript
// node-sdkä½¿ç”¨è¯´æ˜ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/nodejs-sdk/preparation-before-development
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
const lark = require('@larksuiteoapi/node-sdk');

// å¼€å‘è€…å¤åˆ¶è¯¥Demoåï¼Œéœ€è¦ä¿®æ”¹Demoé‡Œé¢çš„"app id", "app secret"ä¸ºè‡ªå·±åº”ç”¨çš„appId, appSecret
const client = new lark.Client({
    appId: 'app id',
    appSecret: 'app secret',
    // disableTokenCacheä¸ºtrueæ—¶ï¼ŒSDKä¸ä¼šä¸»åŠ¨æ‹‰å–å¹¶ç¼“å­˜tokenï¼Œè¿™æ—¶éœ€è¦åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œè°ƒç”¨lark.withTenantToken("token")æ‰‹åŠ¨ä¼ é€’
    // disableTokenCacheä¸ºfalseæ—¶ï¼ŒSDKä¼šè‡ªåŠ¨ç®¡ç†ç§Ÿæˆ·tokençš„è·å–ä¸åˆ·æ–°ï¼Œæ— éœ€ä½¿ç”¨lark.withTenantToken("token")æ‰‹åŠ¨ä¼ é€’token
    disableTokenCache: true
});

client.attendance.v1.shift.create({
        params: {
                employee_type:'employee_id',
        },
        data: {
                shift_name:'æ—©ç­',
                punch_times:1,
                sub_shift_leader_ids:['456123'],
                is_flexible:false,
                flexible_minutes:60,
                flexible_rule:[
                    {
                      flexible_early_minutes:60,
                      flexible_late_minutes:60,
                      }
                    ],
                no_need_off:true,
                punch_time_rule:[
                    {
                      on_time:'9:00',
                      off_time:'18:00',
                      late_minutes_as_late:30,
                      late_minutes_as_lack:60,
                      on_advance_minutes:60,
                      early_minutes_as_early:30,
                      early_minutes_as_lack:60,
                      off_delay_minutes:60,
                      late_minutes_as_serious_late:40,
                      no_need_on:true,
                      no_need_off:true,
                      }
                    ],
                late_off_late_on_rule:[
                    {
                      late_off_minutes:60,
                      late_on_minutes:30,
                      }
                    ],
                rest_time_rule:[
                    {
                      rest_begin_time:'13:00',
                      rest_end_time:'14:00',
                      }
                    ],
                overtime_rule:[
                    {
                      on_overtime:'9:00',
                      off_overtime:'18:00',
                      }
                    ],
                day_type:1,
                overtime_rest_time_rule:[
                    {
                      rest_begin_time:'13:00',
                      rest_end_time:'14:00',
                      }
                    ],
                late_minutes_as_serious_late:40,
                shift_middle_time_rule:{
                        middle_time_type:0,
                        fixed_middle_time:'12:00',
                        },
                shift_attendance_time_config:{
                        attendance_time:1,
                        on_attendance_time:1,
                        off_attendance_time:1,
                        },
                late_off_late_on_setting:{
                        late_off_base_on_time_type:0,
                        late_on_base_on_time_type:0,
                        },
                id:'6919358778597097404',
        },
},
    lark.withTenantToken("t-7f1b******8e560")
).then(res => {
    console.log(res);
}).catch(e => {
    console.error(JSON.stringify(e.response.data, null, 4));
});

```

#### C#-restsharp

```csharp
var client = new RestClient("https://open.feishu.cn/open-apis/attendance/v1/shifts?employee_type=employee_id");
client.Timeout = -1;
var request = new RestRequest(Method.POST);
request.AddHeader("Authorization", "Bearer t-7f1b******8e560");
request.AddHeader("Content-Type", "application/json");
var body = "{\"day_type\":1,\"flexible_minutes\":60,\"flexible_rule\":[{\"flexible_early_minutes\":60,\"flexible_late_minutes\":60}],\"id\":\"6919358778597097404\",\"is_flexible\":false,\"late_minutes_as_serious_late\":40,\"late_off_late_on_rule\":[{\"late_off_minutes\":60,\"late_on_minutes\":30}],\"late_off_late_on_setting\":{\"late_off_base_on_time_type\":0,\"late_on_base_on_time_type\":0},\"no_need_off\":true,\"overtime_rest_time_rule\":[{\"rest_begin_time\":\"13:00\",\"rest_end_time\":\"14:00\"}],\"overtime_rule\":[{\"off_overtime\":\"18:00\",\"on_overtime\":\"9:00\"}],\"punch_time_rule\":[{\"early_minutes_as_early\":30,\"early_minutes_as_lack\":60,\"late_minutes_as_lack\":60,\"late_minutes_as_late\":30,\"late_minutes_as_serious_late\":40,\"no_need_off\":true,\"no_need_on\":true,\"off_delay_minutes\":60,\"off_time\":\"18:00\",\"on_advance_minutes\":60,\"on_time\":\"9:00\"}],\"punch_times\":1,\"rest_time_rule\":[{\"rest_begin_time\":\"13:00\",\"rest_end_time\":\"14:00\"}],\"shift_attendance_time_config\":{\"attendance_time\":1,\"off_attendance_time\":1,\"on_attendance_time\":1},\"shift_middle_time_rule\":{\"fixed_middle_time\":\"12:00\",\"middle_time_type\":0},\"shift_name\":\"æ—©ç­\",\"sub_shift_leader_ids\":[\"456123\"]}";
request.AddParameter("application/json", body,  ParameterType.RequestBody);
IRestResponse response = client.Execute(request);
Console.WriteLine(response.Content);
```

#### Php-guzzle

```php
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer t-7f1b******8e560',
  'Content-Type' => 'application/json'
];
$body = '{
    "shift_name": "æ—©ç­",
    "punch_times": 1,
    "sub_shift_leader_ids": [
        "456123"
    ],
    "is_flexible": false,
    "flexible_minutes": 60,
    "flexible_rule": [
        {
            "flexible_early_minutes": 60,
            "flexible_late_minutes": 60
        }
    ],
    "no_need_off": true,
    "punch_time_rule": [
        {
            "on_time": "9:00",
            "off_time": "18:00",
            "late_minutes_as_late": 30,
            "late_minutes_as_lack": 60,
            "on_advance_minutes": 60,
            "early_minutes_as_early": 30,
            "early_minutes_as_lack": 60,
            "off_delay_minutes": 60,
            "late_minutes_as_serious_late": 40,
            "no_need_on": true,
            "no_need_off": true
        }
    ],
    "late_off_late_on_rule": [
        {
            "late_off_minutes": 60,
            "late_on_minutes": 30
        }
    ],
    "rest_time_rule": [
        {
            "rest_begin_time": "13:00",
            "rest_end_time": "14:00"
        }
    ],
    "overtime_rule": [
        {
            "on_overtime": "9:00",
            "off_overtime": "18:00"
        }
    ],
    "day_type": 1,
    "overtime_rest_time_rule": [
        {
            "rest_begin_time": "13:00",
            "rest_end_time": "14:00"
        }
    ],
    "late_minutes_as_serious_late": 40,
    "shift_middle_time_rule": {
        "middle_time_type": 0,
        "fixed_middle_time": "12:00"
    },
    "shift_attendance_time_config": {
        "attendance_time": 1,
        "on_attendance_time": 1,
        "off_attendance_time": 1
    },
    "late_off_late_on_setting": {
        "late_off_base_on_time_type": 0,
        "late_on_base_on_time_type": 0
    },
    "id": "6919358778597097404"
}';
$request = new Request('POST', 'https://open.feishu.cn/open-apis/attendance/v1/shifts?employee_type=employee_id', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

#### Curl

```bash
curl -i -X POST 'https://open.feishu.cn/open-apis/attendance/v1/shifts?employee_type=employee_id' \
-H 'Authorization: Bearer t-7f1b******8e560' \
-H 'Content-Type: application/json' \
-d '{
	"day_type": 1,
	"flexible_minutes": 60,
	"flexible_rule": [
		{
			"flexible_early_minutes": 60,
			"flexible_late_minutes": 60
		}
	],
	"id": "6919358778597097404",
	"is_flexible": false,
	"late_minutes_as_serious_late": 40,
	"late_off_late_on_rule": [
		{
			"late_off_minutes": 60,
			"late_on_minutes": 30
		}
	],
	"late_off_late_on_setting": {
		"late_off_base_on_time_type": 0,
		"late_on_base_on_time_type": 0
	},
	"no_need_off": true,
	"overtime_rest_time_rule": [
		{
			"rest_begin_time": "13:00",
			"rest_end_time": "14:00"
		}
	],
	"overtime_rule": [
		{
			"off_overtime": "18:00",
			"on_overtime": "9:00"
		}
	],
	"punch_time_rule": [
		{
			"early_minutes_as_early": 30,
			"early_minutes_as_lack": 60,
			"late_minutes_as_lack": 60,
			"late_minutes_as_late": 30,
			"late_minutes_as_serious_late": 40,
			"no_need_off": true,
			"no_need_on": true,
			"off_delay_minutes": 60,
			"off_time": "18:00",
			"on_advance_minutes": 60,
			"on_time": "9:00"
		}
	],
	"punch_times": 1,
	"rest_time_rule": [
		{
			"rest_begin_time": "13:00",
			"rest_end_time": "14:00"
		}
	],
	"shift_attendance_time_config": {
		"attendance_time": 1,
		"off_attendance_time": 1,
		"on_attendance_time": 1
	},
	"shift_middle_time_rule": {
		"fixed_middle_time": "12:00",
		"middle_time_type": 0
	},
	"shift_name": "æ—©ç­",
	"sub_shift_leader_ids": [
		"456123"
	]
}'
```

#### Golang SDK

```go
package main

import (
	"context"
	"fmt"
	"github.com/larksuite/oapi-sdk-go/v3"
	"github.com/larksuite/oapi-sdk-go/v3/core"
	"github.com/larksuite/oapi-sdk-go/v3/service/attendance/v1"
)

// SDK ä½¿ç”¨æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/golang-sdk-guide/preparations
// å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
func main() {
	// åˆ›å»º Client
	client := lark.NewClient("YOUR_APP_ID", "YOUR_APP_SECRET")
	// åˆ›å»ºè¯·æ±‚å¯¹è±¡
	req := larkattendance.NewCreateShiftReqBuilder().
		EmployeeType(`employee_id`).
		Shift(larkattendance.NewShiftBuilder().
			ShiftName(`æ—©ç­`).
			PunchTimes(1).
			SubShiftLeaderIds([]string{`456123`}).
			IsFlexible(false).
			FlexibleMinutes(60).
			FlexibleRule([]*larkattendance.FlexibleRule{
				larkattendance.NewFlexibleRuleBuilder().
					FlexibleEarlyMinutes(60).
					FlexibleLateMinutes(60).
					Build(),
			}).
			NoNeedOff(true).
			PunchTimeRule([]*larkattendance.PunchTimeRule{
				larkattendance.NewPunchTimeRuleBuilder().
					OnTime(`9:00`).
					OffTime(`18:00`).
					LateMinutesAsLate(30).
					LateMinutesAsLack(60).
					OnAdvanceMinutes(60).
					EarlyMinutesAsEarly(30).
					EarlyMinutesAsLack(60).
					OffDelayMinutes(60).
					LateMinutesAsSeriousLate(40).
					NoNeedOn(true).
					NoNeedOff(true).
					Build(),
			}).
			LateOffLateOnRule([]*larkattendance.LateOffLateOnRule{
				larkattendance.NewLateOffLateOnRuleBuilder().
					LateOffMinutes(60).
					LateOnMinutes(30).
					Build(),
			}).
			RestTimeRule([]*larkattendance.RestRule{
				larkattendance.NewRestRuleBuilder().
					RestBeginTime(`13:00`).
					RestEndTime(`14:00`).
					Build(),
			}).
			OvertimeRule([]*larkattendance.OvertimeRule{
				larkattendance.NewOvertimeRuleBuilder().
					OnOvertime(`9:00`).
					OffOvertime(`18:00`).
					Build(),
			}).
			DayType(1).
			OvertimeRestTimeRule([]*larkattendance.RestRule{
				larkattendance.NewRestRuleBuilder().
					RestBeginTime(`13:00`).
					RestEndTime(`14:00`).
					Build(),
			}).
			LateMinutesAsSeriousLate(40).
			ShiftMiddleTimeRule(larkattendance.NewShiftMiddleTimeRuleBuilder().
				MiddleTimeType(0).
				FixedMiddleTime(`12:00`).
				Build()).
			ShiftAttendanceTimeConfig(larkattendance.NewShiftAttendanceTimeConfigBuilder().
				AttendanceTime(1).
				OnAttendanceTime(1).
				OffAttendanceTime(1).
				Build()).
			LateOffLateOnSetting(larkattendance.NewLateOffLateOnSettingBuilder().
				LateOffBaseOnTimeType(0).
				LateOnBaseOnTimeType(0).
				Build()).
			Id(`6919358778597097404`).
			Build()).
		Build()

	// å‘èµ·è¯·æ±‚
	resp, err := client.Attendance.V1.Shift.Create(context.Background(), req)

	// å¤„ç†é”™è¯¯
	if err != nil {
		fmt.Println(err)
		return
	}

	// æœåŠ¡ç«¯é”™è¯¯å¤„ç†
	if !resp.Success() {
		fmt.Printf("logId: %s, error response: \n%s", resp.RequestId(), larkcore.Prettify(resp.CodeError))
		return
	}

	// ä¸šåŠ¡å¤„ç†
	fmt.Println(larkcore.Prettify(resp))
}

```

