## å†™å…¥å®¡æ‰¹ç»“æœ

ç”±äºéƒ¨åˆ†ä¼ä¸šä½¿ç”¨çš„æ˜¯è‡ªå·±çš„å®¡æ‰¹ç³»ç»Ÿï¼Œè€Œä¸æ˜¯é£ä¹¦å®¡æ‰¹ç³»ç»Ÿï¼Œå› æ­¤å‘˜å·¥çš„è¯·å‡ã€åŠ ç­ç­‰æ•°æ®æ— æ³•æµå…¥åˆ°é£ä¹¦è€ƒå‹¤ç³»ç»Ÿä¸­ï¼Œå¯¼è‡´å‘˜å·¥åœ¨è¯·å‡æ—¶é—´æ®µå†…ä¾ç„¶æ”¶åˆ°æ‰“å¡æé†’ï¼Œå¹¶ä¸”è¢«è®°ä¸ºç¼ºå¡ã€‚

å¯¹äºè¿™äº›åªä½¿ç”¨é£ä¹¦è€ƒå‹¤ç³»ç»Ÿï¼Œè€Œæœªä½¿ç”¨é£ä¹¦å®¡æ‰¹ç³»ç»Ÿçš„ä¼ä¸šï¼Œå¯ä»¥é€šè¿‡è€ƒå‹¤å¼€æ”¾æ¥å£çš„å½¢å¼ï¼Œå°†ä¸‰æ–¹å®¡æ‰¹ç»“æœæ•°æ®å›å†™åˆ°é£ä¹¦è€ƒå‹¤ç³»ç»Ÿä¸­ã€‚

ğŸ’¡ 
 1. ç›®å‰æ”¯æŒå†™å…¥åŠ ç­ã€è¯·å‡ã€å‡ºå·®å’Œå¤–å‡ºè¿™å››ç§å®¡æ‰¹ç»“æœï¼Œå†™å…¥åªä¼šè¿½åŠ (insert)ï¼Œä¸ä¼šè¦†ç›–(update)ï¼ˆå¼€æ”¾æ¥å£å¯¼å…¥çš„åŠ ç­å‡æœŸè®°å½•ï¼Œåœ¨ç®¡ç†åå°çš„å‡æœŸåŠ ç­é‡ŒæŸ¥ä¸åˆ°ï¼Œå¯ä»¥åœ¨è€ƒå‹¤ç»Ÿè®¡æŠ¥è¡¨æŸ¥çœ‹ï¼Œæˆ–è€…é€šè¿‡[è·å–å®¡æ‰¹é€šè¿‡æ•°æ®](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/attendance-v1/user_approval/query)æ¥æŸ¥è¯¢ï¼‰
2. ç¦»èŒäººå‘˜æ²¡æœ‰è€ƒå‹¤ç»„ï¼Œæ‰€ä»¥å†™å…¥å’Œè¿”å›çš„æ—¶é—´ä¼šæœ‰å·®å¼‚

## è¯·æ±‚

| åŸºæœ¬ | |
| --- | --- |
| HTTP URL | `https://open.feishu.cn/open-apis/attendance/v1/user_approvals` |
| HTTP Method | POST |
| æ”¯æŒçš„è®¿é—®ä»¤ç‰Œ | tenant_access_token |
| æ”¯æŒçš„åº”ç”¨ç±»å‹ | custom  isv |
| æƒé™è¦æ±‚ | å†™å…¥æ‰“å¡æ•°æ® |
| æƒé™è¦æ±‚ | attendance:task |

### æŸ¥è¯¢å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
| ------ | ---- | ---- | ---- |
| employee_type | string | æ˜¯ | è¯·æ±‚ä½“å’Œå“åº”ä½“ä¸­çš„ user_id çš„å‘˜å·¥IDç±»å‹ã€‚å¦‚æœæ²¡æœ‰åå°ç®¡ç†æƒé™ï¼Œå¯ä½¿ç”¨[é€šè¿‡æ‰‹æœºå·æˆ–é‚®ç®±è·å–ç”¨æˆ· ID](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/user/batch_get_id) |
### è¯·æ±‚ä½“

| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
| ------ | ---- | ---- | ---- |
| user_approval | object | å¦ | å®¡æ‰¹ä¿¡æ¯ <br> **ç¤ºä¾‹**:   |

**ç±»å‹é¢å¤–è¯´æ˜**:

- **user_approval** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   user_id: string <br> date: string <br> time_zone: string <br>
  - **outs** (array):
    - **user_out** ç±»å‹è¯´æ˜:

      åŸºæœ¬å±æ€§:

       uniq_id: string <br> unit: integer <br> interval: integer <br> start_time: string <br> end_time: string <br> default_locale: string <br> reason: string <br> idempotent_id: string <br> correct_process_id: array <br> cancel_process_id: array <br> process_id: array <br>
      - **i18n_names** (object):
        - **i18n_names** ç±»å‹è¯´æ˜:

          åŸºæœ¬å±æ€§:

           ch: string <br> en: string <br> ja: string <br>
  - **leaves** (array):
    - **user_leave** ç±»å‹è¯´æ˜:

      åŸºæœ¬å±æ€§:

       uniq_id: string <br> unit: integer <br> interval: integer <br> start_time: string <br> end_time: string <br> default_locale: string <br> reason: string <br> idempotent_id: string <br>
      - **i18n_names** (object):
        - **i18n_names** ç±»å‹è¯´æ˜:

          åŸºæœ¬å±æ€§:

           ch: string <br> en: string <br> ja: string <br>
  - **overtime_works** (array):
    - **user_overtime_work** ç±»å‹è¯´æ˜:

      åŸºæœ¬å±æ€§:

       duration: number <br> unit: integer <br> category: integer <br> type: integer <br> start_time: string <br> end_time: string <br> reason: string <br> idempotent_id: string <br> correct_process_id: array <br> cancel_process_id: array <br> process_id: array <br>
  - **trips** (array):
    - **user_trip** ç±»å‹è¯´æ˜:

      åŸºæœ¬å±æ€§:

       start_time: string <br> end_time: string <br> reason: string <br> approve_pass_time: string <br> approve_apply_time: string <br> idempotent_id: string <br> correct_process_id: array <br> cancel_process_id: array <br> process_id: array <br> transportation: array <br> trip_type: integer <br> remarks: string <br>
      - **departure** (object):
        - **region_place** ç±»å‹è¯´æ˜:

          åŸºæœ¬å±æ€§:

           region_level: string <br> region_id: string <br>
      - **destinations** (array):
        - **region_place** ç±»å‹è¯´æ˜:

          åŸºæœ¬å±æ€§:

           region_level: string <br> region_id: string <br>


**è¯·æ±‚ä½“ç¤ºä¾‹**:

```json
{
    "user_approval": {
        "user_id": "abd754f7",
        "date": "20210104",
        "outs": [
            {
                "uniq_id": "9496E43696967658A512969523E89870",
                "unit": 1,
                "interval": 3600,
                "start_time": "2021-01-04 09:00:00",
                "end_time": "2021-01-04 19:00:00",
                "i18n_names": {
                    "ch": "ä¸­æ–‡æè¿°",
                    "en": "English description",
                    "ja": "æ—¥æœ¬èªã®èª¬æ˜"
                },
                "default_locale": "ch",
                "reason": "å¤–å‡ºåŠäº‹",
                "idempotent_id": "1233432312",
                "correct_process_id": [
                    "7304865941202929196"
                ],
                "cancel_process_id": [
                    "7304865941202929196"
                ],
                "process_id": [
                    "7304865941202929196"
                ]
            }
        ],
        "leaves": [
            {
                "uniq_id": "6852582717813440527",
                "unit": 1,
                "interval": 3600,
                "start_time": "2021-01-04 09:00:00",
                "end_time": "2021-01-04 19:00:00",
                "i18n_names": {
                    "ch": "ä¸­æ–‡æè¿°",
                    "en": "English description",
                    "ja": "æ—¥æœ¬èªã®èª¬æ˜"
                },
                "default_locale": "ch",
                "reason": "å®¶é‡Œæœ‰äº‹",
                "idempotent_id": "1233432312"
            }
        ],
        "overtime_works": [
            {
                "duration": 1.5,
                "unit": 1,
                "category": 2,
                "type": 1,
                "start_time": "2021-01-09 09:00:00",
                "end_time": "2021-01-10 13:00:00",
                "reason": "æ¨è¿›é¡¹ç›®è¿›åº¦",
                "idempotent_id": "1233432312",
                "correct_process_id": [
                    "7304865941202929196"
                ],
                "cancel_process_id": [
                    "7304865941202929196"
                ],
                "process_id": [
                    "7304865941202929196"
                ]
            }
        ],
        "trips": [
            {
                "start_time": "2021-01-04 09:00:00",
                "end_time": "2021-01-04 19:00:00",
                "reason": "åŸ¹è®­",
                "approve_pass_time": "2021-01-04 12:00:00",
                "approve_apply_time": "2021-01-04 11:00:00",
                "idempotent_id": "1233432312",
                "correct_process_id": [
                    "7304865941202929196"
                ],
                "cancel_process_id": [
                    "7304865941202929196"
                ],
                "process_id": [
                    "7304865941202929196"
                ],
                "departure": {
                    "region_level": "l1",
                    "region_id": "6863333418483058189"
                },
                "destinations": [
                    {
                        "region_level": "l1",
                        "region_id": "6863333418483058189"
                    }
                ],
                "transportation": [
                    1
                ],
                "trip_type": 1,
                "remarks": "å‡ºå·®å¤‡æ³¨"
            }
        ],
        "time_zone": "0"
    }
}
```

### å“åº”

**å“åº”ç¤ºä¾‹**:

```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "user_approval": {
            "user_id": "abd754f7",
            "date": "20210104",
            "outs": [
                {
                    "approval_id": "6737202939523236113",
                    "uniq_id": "9496E43696967658A512969523E89870",
                    "unit": 1,
                    "interval": 3600,
                    "start_time": "2021-01-04 09:00:00",
                    "end_time": "2021-01-04 19:00:00",
                    "i18n_names": {
                        "ch": "ä¸­æ–‡æè¿°",
                        "en": "English description",
                        "ja": "æ—¥æœ¬èªã®èª¬æ˜"
                    },
                    "default_locale": "ch",
                    "reason": "å¤–å‡ºåŠäº‹",
                    "approve_pass_time": "2021-01-04 12:00:00",
                    "approve_apply_time": "2021-01-04 11:00:00",
                    "idempotent_id": "1233432312",
                    "correct_process_id": [
                        "7304865941202929196"
                    ],
                    "cancel_process_id": [
                        "7304865941202929196"
                    ],
                    "process_id": [
                        "7304865941202929196"
                    ]
                }
            ],
            "leaves": [
                {
                    "approval_id": "6737202939523236113",
                    "uniq_id": "6852582717813440527",
                    "unit": 1,
                    "interval": 3600,
                    "start_time": "2021-01-04 09:00:00",
                    "end_time": "2021-01-04 19:00:00",
                    "i18n_names": {
                        "ch": "ä¸­æ–‡æè¿°",
                        "en": "English description",
                        "ja": "æ—¥æœ¬èªã®èª¬æ˜"
                    },
                    "default_locale": "ch",
                    "reason": "å®¶é‡Œæœ‰äº‹",
                    "approve_pass_time": "2021-01-04 12:00:00",
                    "approve_apply_time": "2021-01-04 11:00:00",
                    "idempotent_id": "1233432312"
                }
            ],
            "overtime_works": [
                {
                    "approval_id": "6737202939523236113",
                    "duration": 1.5,
                    "unit": 1,
                    "category": 2,
                    "type": 1,
                    "start_time": "2021-01-09 09:00:00",
                    "end_time": "2021-01-10 13:00:00",
                    "reason": "æ¨è¿›é¡¹ç›®è¿›åº¦",
                    "idempotent_id": "1233432312",
                    "correct_process_id": [
                        "7304865941202929196"
                    ],
                    "cancel_process_id": [
                        "7304865941202929196"
                    ],
                    "process_id": [
                        "7304865941202929196"
                    ]
                }
            ],
            "trips": [
                {
                    "approval_id": "6737202939523236113",
                    "start_time": "2021-01-04 09:00:00",
                    "end_time": "2021-01-04 19:00:00",
                    "reason": "åŸ¹è®­",
                    "approve_pass_time": "2021-01-04 12:00:00",
                    "approve_apply_time": "2021-01-04 11:00:00",
                    "idempotent_id": "1233432312",
                    "correct_process_id": [
                        "7304865941202929196"
                    ],
                    "cancel_process_id": [
                        "7304865941202929196"
                    ],
                    "process_id": [
                        "7304865941202929196"
                    ],
                    "departure": {
                        "region_level": "l1",
                        "region_id": "6863333418483058189"
                    },
                    "destinations": [
                        {
                            "region_level": "l1",
                            "region_id": "6863333418483058189"
                        }
                    ],
                    "transportation": [
                        1
                    ],
                    "trip_type": 1,
                    "remarks": "å‡ºå·®å¤‡æ³¨"
                }
            ],
            "time_zone": "Asia/Shanghai"
        }
    }
}
```

### é”™è¯¯ç 

| HTTPçŠ¶æ€ç  | é”™è¯¯ç  | æè¿° | æ’æŸ¥å»ºè®® |
| ---------- | ------ | ---- | -------- |
| 400 | 1220001 | param is invalis | å…¥å‚æ ¡éªŒå¤±è´¥ï¼Œè¯·æ ¹æ®å…·ä½“è¿”å›çš„ä¿¡æ¯æ£€æŸ¥å…¥å‚ã€‚ä¾‹å¦‚â€œemployee_type invalidâ€ä»£è¡¨äººå‘˜ç±»å‹å¼‚å¸¸ã€‚å¦‚ä»æ— æ³•è§£å†³å¯è”ç³» [æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW) |
| 400 | 1220002 | tenant_id is empty | è¯·æ£€æŸ¥å…¥å‚ä¸­çš„ tenant_access_tokenæ˜¯å¦æ­£ç¡® |
| 400 | 1220004 | param is invalis | è¯·å‚è€ƒå®é™…è¿”å›çš„é”™è¯¯ä¿¡æ¯æ’æŸ¥é—®é¢˜ã€‚ä¾‹å¦‚â€œuser_id is not exist or does not have permissionâ€ä»£è¡¨å…¥å‚ä¼ å…¥çš„ç”¨æˆ·idä¸å­˜åœ¨æˆ–è€…æ²¡æœ‰æƒé™ã€‚å¦‚ä»æ— æ³•è§£å†³å¯è”ç³» [æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW) |
| 400 | 1220005 | æ²¡æœ‰æƒé™ | è¯·å‰å¾€[è€ƒå‹¤ç®¡ç†åå°](https://oa.feishu.cn/attendance/manage/member/list)æ£€æŸ¥æ•°æ®æƒé™èŒƒå›´ |
| 500 | 1225000 | param is invalis | è¯·å‚è€ƒå®é™…è¿”å›çš„é”™è¯¯ä¿¡æ¯æ’æŸ¥é—®é¢˜ã€‚ä¾‹å¦‚â€œinternal server errorâ€ä»£è¡¨å†…éƒ¨æœåŠ¡å¼‚å¸¸ã€‚å¦‚ä»æ— æ³•è§£å†³å¯è”ç³» [æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW) |
| 400 | 1225001 | param is invalis | è¯·å‚è€ƒå®é™…è¿”å›çš„é”™è¯¯ä¿¡æ¯æ’æŸ¥é—®é¢˜ã€‚è¿”å›é”™è¯¯æ ¼å¼ä¸ºå¯¼å…¥çš„å®¡æ‰¹æ•°æ®ï¼Œæ ¼å¼ä¸ºï¼š{"TripErrorRecords":"","OvertimeWorkErrorRecords":"","LeaveErrorRecords":"","OutErrorRecords":""}ã€‚å¦‚ä»æ— æ³•è§£å†³å¯è”ç³» [æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW) |
| 400 | 1220600 | é€šç”¨é”™è¯¯ä¿¡æ¯ | é€šç”¨é”™è¯¯ä¿¡æ¯åŒ…å«å¤šæ¡ï¼Œè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ä»¥åŠå¤„ç†å»ºè®®å¯å‚è§[é”™è¯¯ä¿¡æ¯](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/attendance-v1/attendance-development-guidelines)ã€‚ |

### è°ƒç”¨ç¤ºä¾‹

#### Java SDK

```java
package com.lark.oapi.sample.apiall.attendancev1;
import com.google.gson.JsonParser;
import com.lark.oapi.Client;
import com.lark.oapi.core.utils.Jsons;
import com.lark.oapi.service.attendance.v1.model.*;
import java.util.HashMap;
import com.lark.oapi.core.request.RequestOptions;

// SDK ä½¿ç”¨æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/java-sdk-guide/preparations
// å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
public class CreateUserApprovalSample{

  public static void main(String arg[]) throws Exception {
      // æ„å»ºclient
      Client client = Client.newBuilder("YOUR_APP_ID", "YOUR_APP_SECRET").build();

      // åˆ›å»ºè¯·æ±‚å¯¹è±¡
      CreateUserApprovalReq req = CreateUserApprovalReq.newBuilder()
             .employeeType("employee_id")
             .createUserApprovalReqBody(CreateUserApprovalReqBody.newBuilder()
                 .userApproval(UserApproval.newBuilder()
                        .userId("abd754f7")
                        .date("20210104")
                        .outs(new UserOut[]{
                        UserOut.newBuilder()
                          .uniqId("9496E43696967658A512969523E89870")
                          .unit(1)
                          .interval(3600)
                          .startTime("2021-01-04 09:00:00")
                          .endTime("2021-01-04 19:00:00")
                          .i18nNames(I18nNames.newBuilder()
                            .ch("ä¸­æ–‡æè¿°")
                            .en("English description")
                            .ja("æ—¥æœ¬èªã®èª¬æ˜")
                            .build())
                          .defaultLocale("ch")
                          .reason("å¤–å‡ºåŠäº‹")
                          .idempotentId("1233432312")
                          .correctProcessId(new String[]{"7304865941202929196"})
                          .cancelProcessId(new String[]{"7304865941202929196"})
                          .processId(new String[]{"7304865941202929196"})
                          .build()
                        })
                        .leaves(new UserLeave[]{
                        UserLeave.newBuilder()
                          .uniqId("6852582717813440527")
                          .unit(1)
                          .interval(3600)
                          .startTime("2021-01-04 09:00:00")
                          .endTime("2021-01-04 19:00:00")
                          .i18nNames(I18nNames.newBuilder()
                            .ch("ä¸­æ–‡æè¿°")
                            .en("English description")
                            .ja("æ—¥æœ¬èªã®èª¬æ˜")
                            .build())
                          .defaultLocale("ch")
                          .reason("å®¶é‡Œæœ‰äº‹")
                          .idempotentId("1233432312")
                          .build()
                        })
                        .overtimeWorks(new UserOvertimeWork[]{
                        UserOvertimeWork.newBuilder()
                          .duration(1.5)
                          .unit(1)
                          .category(2)
                          .type(1)
                          .startTime("2021-01-09 09:00:00")
                          .endTime("2021-01-10 13:00:00")
                          .reason("æ¨è¿›é¡¹ç›®è¿›åº¦")
                          .idempotentId("1233432312")
                          .correctProcessId(new String[]{"7304865941202929196"})
                          .cancelProcessId(new String[]{"7304865941202929196"})
                          .processId(new String[]{"7304865941202929196"})
                          .build()
                        })
                        .trips(new UserTrip[]{
                        UserTrip.newBuilder()
                          .startTime("2021-01-04 09:00:00")
                          .endTime("2021-01-04 19:00:00")
                          .reason("åŸ¹è®­")
                          .approvePassTime("2021-01-04 12:00:00")
                          .approveApplyTime("2021-01-04 11:00:00")
                          .idempotentId("1233432312")
                          .correctProcessId(new String[]{"7304865941202929196"})
                          .cancelProcessId(new String[]{"7304865941202929196"})
                          .processId(new String[]{"7304865941202929196"})
                          .departure(RegionPlace.newBuilder()
                            .regionLevel("l1")
                            .regionId("6863333418483058189")
                            .build())
                          .destinations(new RegionPlace[]{
RegionPlace.newBuilder()
  .regionLevel("l1")
  .regionId("6863333418483058189")
  .build()
})
                          .transportation(new Integer[]{1})
                          .tripType(1)
                          .remarks("å‡ºå·®å¤‡æ³¨")
                          .build()
                        })
                        .timeZone("0")
                        .build())
                  .build())
             .build();

      // å‘èµ·è¯·æ±‚
      CreateUserApprovalResp resp = client.attendance().v1().userApproval().create(req);

       // å¤„ç†æœåŠ¡ç«¯é”™è¯¯
       if (!resp.success()) {
         System.out.println(String.format("code:%s,msg:%s,reqId:%s, resp:%s",
                    resp.getCode(), resp.getMsg(), resp.getRequestId(), Jsons.createGSON(true, false).toJson(JsonParser.parseString(new String(resp.getRawResponse().getBody(), StandardCharsets.UTF_8)))));
         return;
       }

       // ä¸šåŠ¡æ•°æ®å¤„ç†
         System.out.println(Jsons.DEFAULT.toJson(resp.getData()));
  }
}

```

#### Nodejs SDK

```javascript
// node-sdkä½¿ç”¨è¯´æ˜ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/nodejs-sdk/preparation-before-development
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
const lark = require('@larksuiteoapi/node-sdk');

// å¼€å‘è€…å¤åˆ¶è¯¥Demoåï¼Œéœ€è¦ä¿®æ”¹Demoé‡Œé¢çš„"app id", "app secret"ä¸ºè‡ªå·±åº”ç”¨çš„appId, appSecret
const client = new lark.Client({
    appId: 'app id',
    appSecret: 'app secret',
    // disableTokenCacheä¸ºtrueæ—¶ï¼ŒSDKä¸ä¼šä¸»åŠ¨æ‹‰å–å¹¶ç¼“å­˜tokenï¼Œè¿™æ—¶éœ€è¦åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œè°ƒç”¨lark.withTenantToken("token")æ‰‹åŠ¨ä¼ é€’
    // disableTokenCacheä¸ºfalseæ—¶ï¼ŒSDKä¼šè‡ªåŠ¨ç®¡ç†ç§Ÿæˆ·tokençš„è·å–ä¸åˆ·æ–°ï¼Œæ— éœ€ä½¿ç”¨lark.withTenantToken("token")æ‰‹åŠ¨ä¼ é€’token
    disableTokenCache: true
});

client.attendance.v1.userApproval.create({
        params: {
                employee_type:'employee_id',
        },
        data: {
                user_approval:{
                        user_id:'abd754f7',
                        date:'20210104',
                        outs:[
                        {
                          uniq_id:'9496E43696967658A512969523E89870',
                          unit:1,
                          interval:3600,
                          start_time:'2021-01-04 09:00:00',
                          end_time:'2021-01-04 19:00:00',
                          i18n_names:{
                            ch:'ä¸­æ–‡æè¿°',
                            en:'English description',
                            ja:'æ—¥æœ¬èªã®èª¬æ˜',
                            },
                          default_locale:'ch',
                          reason:'å¤–å‡ºåŠäº‹',
                          idempotent_id:'1233432312',
                          correct_process_id:['7304865941202929196'],
                          cancel_process_id:['7304865941202929196'],
                          process_id:['7304865941202929196'],
                          }
                        ],
                        leaves:[
                        {
                          uniq_id:'6852582717813440527',
                          unit:1,
                          interval:3600,
                          start_time:'2021-01-04 09:00:00',
                          end_time:'2021-01-04 19:00:00',
                          i18n_names:{
                            ch:'ä¸­æ–‡æè¿°',
                            en:'English description',
                            ja:'æ—¥æœ¬èªã®èª¬æ˜',
                            },
                          default_locale:'ch',
                          reason:'å®¶é‡Œæœ‰äº‹',
                          idempotent_id:'1233432312',
                          }
                        ],
                        overtime_works:[
                        {
                          duration:1.5,
                          unit:1,
                          category:2,
                          type:1,
                          start_time:'2021-01-09 09:00:00',
                          end_time:'2021-01-10 13:00:00',
                          reason:'æ¨è¿›é¡¹ç›®è¿›åº¦',
                          idempotent_id:'1233432312',
                          correct_process_id:['7304865941202929196'],
                          cancel_process_id:['7304865941202929196'],
                          process_id:['7304865941202929196'],
                          }
                        ],
                        trips:[
                        {
                          start_time:'2021-01-04 09:00:00',
                          end_time:'2021-01-04 19:00:00',
                          reason:'åŸ¹è®­',
                          approve_pass_time:'2021-01-04 12:00:00',
                          approve_apply_time:'2021-01-04 11:00:00',
                          idempotent_id:'1233432312',
                          correct_process_id:['7304865941202929196'],
                          cancel_process_id:['7304865941202929196'],
                          process_id:['7304865941202929196'],
                          departure:{
                            region_level:'l1',
                            region_id:'6863333418483058189',
                            },
                          destinations:[
{
  region_level:'l1',
  region_id:'6863333418483058189',
  }
],
                          transportation:[1],
                          trip_type:1,
                          remarks:'å‡ºå·®å¤‡æ³¨',
                          }
                        ],
                        time_zone:'0',
                        },
        },
},
    lark.withTenantToken("t-7f1b******8e560")
).then(res => {
    console.log(res);
}).catch(e => {
    console.error(JSON.stringify(e.response.data, null, 4));
});

```

#### C#-restsharp

```csharp
var client = new RestClient("https://open.feishu.cn/open-apis/attendance/v1/user_approvals?employee_type=employee_id");
client.Timeout = -1;
var request = new RestRequest(Method.POST);
request.AddHeader("Authorization", "Bearer t-7f1b******8e560");
request.AddHeader("Content-Type", "application/json");
var body = "{\"user_approval\":{\"date\":\"20210104\",\"leaves\":[{\"default_locale\":\"ch\",\"end_time\":\"2021-01-04 19:00:00\",\"i18n_names\":{\"ch\":\"ä¸­æ–‡æè¿°\",\"en\":\"English description\",\"ja\":\"æ—¥æœ¬èªã®èª¬æ˜\"},\"idempotent_id\":\"1233432312\",\"interval\":3600,\"reason\":\"å®¶é‡Œæœ‰äº‹\",\"start_time\":\"2021-01-04 09:00:00\",\"uniq_id\":\"6852582717813440527\",\"unit\":1}],\"outs\":[{\"cancel_process_id\":[\"7304865941202929196\"],\"correct_process_id\":[\"7304865941202929196\"],\"default_locale\":\"ch\",\"end_time\":\"2021-01-04 19:00:00\",\"i18n_names\":{\"ch\":\"ä¸­æ–‡æè¿°\",\"en\":\"English description\",\"ja\":\"æ—¥æœ¬èªã®èª¬æ˜\"},\"idempotent_id\":\"1233432312\",\"interval\":3600,\"process_id\":[\"7304865941202929196\"],\"reason\":\"å¤–å‡ºåŠäº‹\",\"start_time\":\"2021-01-04 09:00:00\",\"uniq_id\":\"9496E43696967658A512969523E89870\",\"unit\":1}],\"overtime_works\":[{\"cancel_process_id\":[\"7304865941202929196\"],\"category\":2,\"correct_process_id\":[\"7304865941202929196\"],\"duration\":1.5,\"end_time\":\"2021-01-10 13:00:00\",\"idempotent_id\":\"1233432312\",\"process_id\":[\"7304865941202929196\"],\"reason\":\"æ¨è¿›é¡¹ç›®è¿›åº¦\",\"start_time\":\"2021-01-09 09:00:00\",\"type\":1,\"unit\":1}],\"time_zone\":\"0\",\"trips\":[{\"approve_apply_time\":\"2021-01-04 11:00:00\",\"approve_pass_time\":\"2021-01-04 12:00:00\",\"cancel_process_id\":[\"7304865941202929196\"],\"correct_process_id\":[\"7304865941202929196\"],\"departure\":{\"region_id\":\"6863333418483058189\",\"region_level\":\"l1\"},\"destinations\":[{\"region_id\":\"6863333418483058189\",\"region_level\":\"l1\"}],\"end_time\":\"2021-01-04 19:00:00\",\"idempotent_id\":\"1233432312\",\"process_id\":[\"7304865941202929196\"],\"reason\":\"åŸ¹è®­\",\"remarks\":\"å‡ºå·®å¤‡æ³¨\",\"start_time\":\"2021-01-04 09:00:00\",\"transportation\":[1],\"trip_type\":1}],\"user_id\":\"abd754f7\"}}";
request.AddParameter("application/json", body,  ParameterType.RequestBody);
IRestResponse response = client.Execute(request);
Console.WriteLine(response.Content);
```

#### Php-guzzle

```php
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer t-7f1b******8e560',
  'Content-Type' => 'application/json'
];
$body = '{
    "user_approval": {
        "user_id": "abd754f7",
        "date": "20210104",
        "outs": [
            {
                "uniq_id": "9496E43696967658A512969523E89870",
                "unit": 1,
                "interval": 3600,
                "start_time": "2021-01-04 09:00:00",
                "end_time": "2021-01-04 19:00:00",
                "i18n_names": {
                    "ch": "ä¸­æ–‡æè¿°",
                    "en": "English description",
                    "ja": "æ—¥æœ¬èªã®èª¬æ˜"
                },
                "default_locale": "ch",
                "reason": "å¤–å‡ºåŠäº‹",
                "idempotent_id": "1233432312",
                "correct_process_id": [
                    "7304865941202929196"
                ],
                "cancel_process_id": [
                    "7304865941202929196"
                ],
                "process_id": [
                    "7304865941202929196"
                ]
            }
        ],
        "leaves": [
            {
                "uniq_id": "6852582717813440527",
                "unit": 1,
                "interval": 3600,
                "start_time": "2021-01-04 09:00:00",
                "end_time": "2021-01-04 19:00:00",
                "i18n_names": {
                    "ch": "ä¸­æ–‡æè¿°",
                    "en": "English description",
                    "ja": "æ—¥æœ¬èªã®èª¬æ˜"
                },
                "default_locale": "ch",
                "reason": "å®¶é‡Œæœ‰äº‹",
                "idempotent_id": "1233432312"
            }
        ],
        "overtime_works": [
            {
                "duration": 1.5,
                "unit": 1,
                "category": 2,
                "type": 1,
                "start_time": "2021-01-09 09:00:00",
                "end_time": "2021-01-10 13:00:00",
                "reason": "æ¨è¿›é¡¹ç›®è¿›åº¦",
                "idempotent_id": "1233432312",
                "correct_process_id": [
                    "7304865941202929196"
                ],
                "cancel_process_id": [
                    "7304865941202929196"
                ],
                "process_id": [
                    "7304865941202929196"
                ]
            }
        ],
        "trips": [
            {
                "start_time": "2021-01-04 09:00:00",
                "end_time": "2021-01-04 19:00:00",
                "reason": "åŸ¹è®­",
                "approve_pass_time": "2021-01-04 12:00:00",
                "approve_apply_time": "2021-01-04 11:00:00",
                "idempotent_id": "1233432312",
                "correct_process_id": [
                    "7304865941202929196"
                ],
                "cancel_process_id": [
                    "7304865941202929196"
                ],
                "process_id": [
                    "7304865941202929196"
                ],
                "departure": {
                    "region_level": "l1",
                    "region_id": "6863333418483058189"
                },
                "destinations": [
                    {
                        "region_level": "l1",
                        "region_id": "6863333418483058189"
                    }
                ],
                "transportation": [
                    1
                ],
                "trip_type": 1,
                "remarks": "å‡ºå·®å¤‡æ³¨"
            }
        ],
        "time_zone": "0"
    }
}';
$request = new Request('POST', 'https://open.feishu.cn/open-apis/attendance/v1/user_approvals?employee_type=employee_id', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

#### Curl

```bash
curl -i -X POST 'https://open.feishu.cn/open-apis/attendance/v1/user_approvals?employee_type=employee_id' \
-H 'Authorization: Bearer t-7f1b******8e560' \
-H 'Content-Type: application/json' \
-d '{
	"user_approval": {
		"date": "20210104",
		"leaves": [
			{
				"default_locale": "ch",
				"end_time": "2021-01-04 19:00:00",
				"i18n_names": {
					"ch": "ä¸­æ–‡æè¿°",
					"en": "English description",
					"ja": "æ—¥æœ¬èªã®èª¬æ˜"
				},
				"idempotent_id": "1233432312",
				"interval": 3600,
				"reason": "å®¶é‡Œæœ‰äº‹",
				"start_time": "2021-01-04 09:00:00",
				"uniq_id": "6852582717813440527",
				"unit": 1
			}
		],
		"outs": [
			{
				"cancel_process_id": [
					"7304865941202929196"
				],
				"correct_process_id": [
					"7304865941202929196"
				],
				"default_locale": "ch",
				"end_time": "2021-01-04 19:00:00",
				"i18n_names": {
					"ch": "ä¸­æ–‡æè¿°",
					"en": "English description",
					"ja": "æ—¥æœ¬èªã®èª¬æ˜"
				},
				"idempotent_id": "1233432312",
				"interval": 3600,
				"process_id": [
					"7304865941202929196"
				],
				"reason": "å¤–å‡ºåŠäº‹",
				"start_time": "2021-01-04 09:00:00",
				"uniq_id": "9496E43696967658A512969523E89870",
				"unit": 1
			}
		],
		"overtime_works": [
			{
				"cancel_process_id": [
					"7304865941202929196"
				],
				"category": 2,
				"correct_process_id": [
					"7304865941202929196"
				],
				"duration": 1.5,
				"end_time": "2021-01-10 13:00:00",
				"idempotent_id": "1233432312",
				"process_id": [
					"7304865941202929196"
				],
				"reason": "æ¨è¿›é¡¹ç›®è¿›åº¦",
				"start_time": "2021-01-09 09:00:00",
				"type": 1,
				"unit": 1
			}
		],
		"time_zone": "0",
		"trips": [
			{
				"approve_apply_time": "2021-01-04 11:00:00",
				"approve_pass_time": "2021-01-04 12:00:00",
				"cancel_process_id": [
					"7304865941202929196"
				],
				"correct_process_id": [
					"7304865941202929196"
				],
				"departure": {
					"region_id": "6863333418483058189",
					"region_level": "l1"
				},
				"destinations": [
					{
						"region_id": "6863333418483058189",
						"region_level": "l1"
					}
				],
				"end_time": "2021-01-04 19:00:00",
				"idempotent_id": "1233432312",
				"process_id": [
					"7304865941202929196"
				],
				"reason": "åŸ¹è®­",
				"remarks": "å‡ºå·®å¤‡æ³¨",
				"start_time": "2021-01-04 09:00:00",
				"transportation": [
					1
				],
				"trip_type": 1
			}
		],
		"user_id": "abd754f7"
	}
}'
```

#### Golang SDK

```go
package main

import (
	"context"
	"fmt"
	"github.com/larksuite/oapi-sdk-go/v3"
	"github.com/larksuite/oapi-sdk-go/v3/core"
	"github.com/larksuite/oapi-sdk-go/v3/service/attendance/v1"
)

// SDK ä½¿ç”¨æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/golang-sdk-guide/preparations
// å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
func main() {
	// åˆ›å»º Client
	client := lark.NewClient("YOUR_APP_ID", "YOUR_APP_SECRET")
	// åˆ›å»ºè¯·æ±‚å¯¹è±¡
	req := larkattendance.NewCreateUserApprovalReqBuilder().
		EmployeeType(`employee_id`).
		Body(larkattendance.NewCreateUserApprovalReqBodyBuilder().
			UserApproval(larkattendance.NewUserApprovalBuilder().
				UserId(`abd754f7`).
				Date(`20210104`).
				Outs([]*larkattendance.UserOut{
					larkattendance.NewUserOutBuilder().
						UniqId(`9496E43696967658A512969523E89870`).
						Unit(1).
						Interval(3600).
						StartTime(`2021-01-04 09:00:00`).
						EndTime(`2021-01-04 19:00:00`).
						I18nNames(larkattendance.NewI18nNamesBuilder().
							Ch(`ä¸­æ–‡æè¿°`).
							En(`English description`).
							Ja(`æ—¥æœ¬èªã®èª¬æ˜`).
							Build()).
						DefaultLocale(`ch`).
						Reason(`å¤–å‡ºåŠäº‹`).
						IdempotentId(`1233432312`).
						CorrectProcessId([]string{`7304865941202929196`}).
						CancelProcessId([]string{`7304865941202929196`}).
						ProcessId([]string{`7304865941202929196`}).
						Build(),
				}).
				Leaves([]*larkattendance.UserLeave{
					larkattendance.NewUserLeaveBuilder().
						UniqId(`6852582717813440527`).
						Unit(1).
						Interval(3600).
						StartTime(`2021-01-04 09:00:00`).
						EndTime(`2021-01-04 19:00:00`).
						I18nNames(larkattendance.NewI18nNamesBuilder().
							Ch(`ä¸­æ–‡æè¿°`).
							En(`English description`).
							Ja(`æ—¥æœ¬èªã®èª¬æ˜`).
							Build()).
						DefaultLocale(`ch`).
						Reason(`å®¶é‡Œæœ‰äº‹`).
						IdempotentId(`1233432312`).
						Build(),
				}).
				OvertimeWorks([]*larkattendance.UserOvertimeWork{
					larkattendance.NewUserOvertimeWorkBuilder().
						Duration(1.5).
						Unit(1).
						Category(2).
						Type(1).
						StartTime(`2021-01-09 09:00:00`).
						EndTime(`2021-01-10 13:00:00`).
						Reason(`æ¨è¿›é¡¹ç›®è¿›åº¦`).
						IdempotentId(`1233432312`).
						CorrectProcessId([]string{`7304865941202929196`}).
						CancelProcessId([]string{`7304865941202929196`}).
						ProcessId([]string{`7304865941202929196`}).
						Build(),
				}).
				Trips([]*larkattendance.UserTrip{
					larkattendance.NewUserTripBuilder().
						StartTime(`2021-01-04 09:00:00`).
						EndTime(`2021-01-04 19:00:00`).
						Reason(`åŸ¹è®­`).
						ApprovePassTime(`2021-01-04 12:00:00`).
						ApproveApplyTime(`2021-01-04 11:00:00`).
						IdempotentId(`1233432312`).
						CorrectProcessId([]string{`7304865941202929196`}).
						CancelProcessId([]string{`7304865941202929196`}).
						ProcessId([]string{`7304865941202929196`}).
						Departure(larkattendance.NewRegionPlaceBuilder().
							RegionLevel(`l1`).
							RegionId(`6863333418483058189`).
							Build()).
						Destinations([]*larkattendance.RegionPlace{
							larkattendance.NewRegionPlaceBuilder().
								RegionLevel(`l1`).
								RegionId(`6863333418483058189`).
								Build(),
						}).
						Transportation([]int{1}).
						TripType(1).
						Remarks(`å‡ºå·®å¤‡æ³¨`).
						Build(),
				}).
				TimeZone(`0`).
				Build()).
			Build()).
		Build()

	// å‘èµ·è¯·æ±‚
	resp, err := client.Attendance.V1.UserApproval.Create(context.Background(), req)

	// å¤„ç†é”™è¯¯
	if err != nil {
		fmt.Println(err)
		return
	}

	// æœåŠ¡ç«¯é”™è¯¯å¤„ç†
	if !resp.Success() {
		fmt.Printf("logId: %s, error response: \n%s", resp.RequestId(), larkcore.Prettify(resp.CodeError))
		return
	}

	// ä¸šåŠ¡å¤„ç†
	fmt.Println(larkcore.Prettify(resp))
}

```

#### Python SDK

```python
import json

import lark_oapi as lark
from lark_oapi.api.attendance.v1 import *


# SDK ä½¿ç”¨è¯´æ˜: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/python--sdk/preparations-before-development
# ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
# å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
def main():
    # åˆ›å»ºclient
    client = lark.Client.builder() \
        .app_id("YOUR_APP_ID") \
        .app_secret("YOUR_APP_SECRET") \
        .log_level(lark.LogLevel.DEBUG) \
        .build()

    # æ„é€ è¯·æ±‚å¯¹è±¡
    request: CreateUserApprovalRequest = CreateUserApprovalRequest.builder() \
        .employee_type("employee_id") \
        .request_body(CreateUserApprovalRequestBody.builder()
            .user_approval(UserApproval.builder()
                .user_id("abd754f7")
                .date("20210104")
                .outs([UserOut.builder()
                    .uniq_id("9496E43696967658A512969523E89870")
                    .unit(1)
                    .interval(3600)
                    .start_time("2021-01-04 09:00:00")
                    .end_time("2021-01-04 19:00:00")
                    .i18n_names(I18nNames.builder()
                        .ch("ä¸­æ–‡æè¿°")
                        .en("English description")
                        .ja("æ—¥æœ¬èªã®èª¬æ˜")
                        .build())
                    .default_locale("ch")
                    .reason("å¤–å‡ºåŠäº‹")
                    .idempotent_id("1233432312")
                    .correct_process_id(["7304865941202929196"])
                    .cancel_process_id(["7304865941202929196"])
                    .process_id(["7304865941202929196"])
                    .build()
                    ])
                .leaves([UserLeave.builder()
                    .uniq_id("6852582717813440527")
                    .unit(1)
                    .interval(3600)
                    .start_time("2021-01-04 09:00:00")
                    .end_time("2021-01-04 19:00:00")
                    .i18n_names(I18nNames.builder()
                        .ch("ä¸­æ–‡æè¿°")
                        .en("English description")
                        .ja("æ—¥æœ¬èªã®èª¬æ˜")
                        .build())
                    .default_locale("ch")
                    .reason("å®¶é‡Œæœ‰äº‹")
                    .idempotent_id("1233432312")
                    .build()
                    ])
                .overtime_works([UserOvertimeWork.builder()
                    .duration(1.5)
                    .unit(1)
                    .category(2)
                    .type(1)
                    .start_time("2021-01-09 09:00:00")
                    .end_time("2021-01-10 13:00:00")
                    .reason("æ¨è¿›é¡¹ç›®è¿›åº¦")
                    .idempotent_id("1233432312")
                    .correct_process_id(["7304865941202929196"])
                    .cancel_process_id(["7304865941202929196"])
                    .process_id(["7304865941202929196"])
                    .build()
                    ])
                .trips([UserTrip.builder()
                    .start_time("2021-01-04 09:00:00")
                    .end_time("2021-01-04 19:00:00")
                    .reason("åŸ¹è®­")
                    .approve_pass_time("2021-01-04 12:00:00")
                    .approve_apply_time("2021-01-04 11:00:00")
                    .idempotent_id("1233432312")
                    .correct_process_id(["7304865941202929196"])
                    .cancel_process_id(["7304865941202929196"])
                    .process_id(["7304865941202929196"])
                    .departure(RegionPlace.builder()
                        .region_level("l1")
                        .region_id("6863333418483058189")
                        .build())
                    .destinations([RegionPlace.builder()
                        .region_level("l1")
                        .region_id("6863333418483058189")
                        .build()
                        ])
                    .transportation([1])
                    .trip_type(1)
                    .remarks("å‡ºå·®å¤‡æ³¨")
                    .build()
                    ])
                .time_zone("0")
                .build())
            .build()) \
        .build()

    # å‘èµ·è¯·æ±‚
    response: CreateUserApprovalResponse = client.attendance.v1.user_approval.create(request)

    # å¤„ç†å¤±è´¥è¿”å›
    if not response.success():
        lark.logger.error(
            f"client.attendance.v1.user_approval.create failed, code: {response.code}, msg: {response.msg}, log_id: {response.get_log_id()}, resp: \n{json.dumps(json.loads(response.raw.content), indent=4, ensure_ascii=False)}")
        return

    # å¤„ç†ä¸šåŠ¡ç»“æœ
    lark.logger.info(lark.JSON.marshal(response.data, indent=4))


if __name__ == "__main__":
    main()

```

