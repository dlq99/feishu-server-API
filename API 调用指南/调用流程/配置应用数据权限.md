# 配置应用数据权限

应用的数据权限是指以应用身份访问业务资源时可获取的数据范围。当应用申请了部分 API 的权限（例如，通讯录、飞书人事企业版）后，还需要配置相应的数据权限并提交审核。待审核通过后权限生效，才可以成功调用 API 获取数据，否则调用 API 时会返回权限错误。

## 数据权限介绍

企业自建应用和商店应用均支持配置数据权限，但支持配置数据权限的 API 不同，方式也不同。你可以通过本章节了解各类应用的数据权限详情以及配置方式。

### 自建应用的数据权限

自建应用支持配置 **通讯录** 和 **飞书人事（企业版）** 的数据权限。

| 数据权限类型 | 权限描述 | 管理方式 |
| --- | --- | --- |
| 通讯录权限范围 | 以应用身份调用通讯录 API 时，应用可以获取到的通讯录数据范围。例如，以应用身份调用通讯录 API 查询用户 A 的信息时，需要应用具备用户 A 的数据权限。<br><br>默认情况下，通讯录权限范围与应用的可用范围一致。 | - 方式一：由应用所有者、管理员或者开发角色在应用内配置通讯录权限范围。<br><br>- 方式二：由企业管理员在管理后台配置指定应用的通讯录权限范围。 |
| 飞书人事（企业版）数据权限范围 | 以应用身份调用飞书人事（企业版）API 时，应用可以获取到的数据范围。例如，以应用身份调用飞书人事（企业版）API 查询部门 B 的信息时，需要应用具备部门 B 的数据权限。<br><br>默认情况下，飞书人事（企业版）数据权限范围为空，即未配置权限范围。 | 应用所有者、管理员或者开发角色在应用内配置飞书人事（企业版）数据权限范围。 |





> **📝 注意**
> 部门、用户等组织架构的数据对企业而言均为敏感数据。应用一旦授权了相应的数据权限，即可增删改查这些敏感数据，所以当应用开发者配置数据权限后，需要发布应用并等待应用审核人员通过审核，方可生效数据权限。



### 商店应用的数据权限

商店应用仅支持企业管理员配置 **通讯录** 的数据权限，不支持配置其他开放能力的数据权限。应用开发者可以调用获取通讯录授权范围查看应用的数据权限。

| 数据权限类型 | 权限描述 | 管理方式 |
| --- | --- | --- |
| 通讯录权限范围 | 以应用身份调用通讯录 API 时，应用可以获取到的通讯录数据范围。例如，以应用身份调用通讯录 API 查询用户 A 的信息时，需要应用具备用户 A 的数据权限。 | 由企业管理员在管理后台配置指定应用的通讯录权限范围。 |



## 企业自建应用

如果你开发的应用涉及以应用身份调用通讯录 API 或者飞书人事（企业版）API，则你需要配置相应的数据权限。



> **📝 注意**
> - 数据权限需要搭配 API 权限才可以生效，即在配置数据权限之前，你需要确保已为应用申请了相应的 API 权限，具体操作参见申请 API 权限。
> 
> - 关于通讯录权限范围的更多概念介绍，参见权限范围详解。
> 
> 
> - 如果你使用应用的测试企业与人员能力，将应用切换为测试版本进行开发联调，则应用默认具有全员范围的通讯录权限，飞书人事（企业版）的权限范围在配置后直接生效，便于测试阶段的调试工作。




### 配置通讯录数据权限

1. 登录[开发者后台](https://open.feishu.cn/app)。找到并进入指定应用详情页。

2. 在左侧导航栏，选择 **开发配置** > **权限管理**。


1. 在 **通讯录权限范围** 区域，点击 **配置**。
    
    ![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/5adf5967f8249f4445fcb3319bd207de_MeUo4vcWe0.png?height=936&lazyload=true&maxWidth=600&width=2218)

2. 配置权限范围，并点击 **确认**。
    
    默认情况下，通讯录的数据权限范围为 **与应用的可用范围一致**。
    
    ![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/0b79e95829805d652d631a52736ceb0c_2r5ADtVld6.png?height=964&lazyload=true&maxWidth=600&width=2256)

    - **与应用的可用范围一致**：通讯录权限范围与应用的可用范围一致。关于应用可用范围的详细介绍，参见配置应用可用范围。
    
    - **部分成员**：选择该范围后，你还需要手动选择部门或成员，以确认通讯录权限范围。
    
    - **全部成员**：企业内所有成员的通讯录权限。



> **📝 注意**
> 企业管理员可以在[管理后台](https://feishu.cn/admin) 的工作台中找到指定应用，修改应用的通讯录权限范围。



![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/fb40ff142abb6e027b312434af12183b_9ZzHyRQcM6.png?height=698&lazyload=true&maxWidth=600&width=2324)

### 配置飞书人事（企业版）数据权限

1. 登录[开发者后台](https://open.feishu.cn/app)。找到并进入指定应用详情页。

2. 在左侧导航栏，选择 **开发配置** > **权限管理**。


1. 在 **数据权限** 页签的 **飞书人事（企业版）数据权限范围** 区域，根据实际需要，选择配置 **员工资源权限范围** 或者 **部门资源权限范围**。
    
    ![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/de9183f62eb4107d7a823e47acb285c5_XnXrnFT2xk.png?height=934&lazyload=true&maxWidth=600&width=1578)

2. 在右侧 **配置数据权限** 界面，设置权限范围并点击 **保存**。
    
    ![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/98abbc2453236b3198903948e1b5e4c0_T9cMCgTqkM.png?height=1542&lazyload=true&maxWidth=600&width=1532)

    - **全部**：可以获取全部员工或部门的数据权限。
    
    - **按筛选条件**：手动设置筛选条件，仅获取符合筛选条件的员工或部门的数据权限。
       
        支持设置的筛选条件以实际页面可获取到的数据为准。例如，在 **员工资源权限范围** 内设置 **人员类型等于正式** 的筛选条件，则表示应用仅可获取飞书人事（企业版）中正式员工的数据权限。
        
        ![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/6e6598f340a3b51ce0eafb0b8eec0f2d_hOXYcAK4b2.png?height=734&lazyload=true&maxWidth=600&width=1508)

    - **无**：默认配置，表示不生效任何数据权限范围。




## 商店应用

商店应用仅支持企业管理员在[管理后台](https://feishu.cn/admin)的工作台中找到指定应用，修改应用的通讯录权限范围。



> **📝 注意**
> 应用开发者可以调用获取通讯录授权范围查看应用的数据权限。



![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/093d937d12197ace5d05c9d65de881f6_Ft065pZ5SZ.png?height=738&lazyload=true&maxWidth=600&width=1968)