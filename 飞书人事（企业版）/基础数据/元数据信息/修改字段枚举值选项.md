## ä¿®æ”¹å­—æ®µæšä¸¾å€¼é€‰é¡¹

å¯¹äºå½“å‰å·²æœ‰çš„æ‰€æœ‰è‡ªå®šä¹‰æšä¸¾å­—æ®µï¼Œä»¥åŠéƒ¨åˆ†ç³»ç»Ÿé¢„ç½®æšä¸¾å­—æ®µï¼Œé€šè¿‡æœ¬æ¥å£å¯ä¿®æ”¹å­—æ®µä¸­å·²æœ‰å¯é€‰é¡¹çš„å±•ç¤ºåç§°ã€åœå¯ç”¨çŠ¶æ€

ğŸ’¡ 
 æœ¬æ¥å£å½“å‰å…è®¸ä¿®æ”¹çš„ç³»ç»Ÿé¢„ç½®å­—æ®µå¦‚ä¸‹ï¼š
  - personï¼ˆä¸ªäººä¿¡æ¯ï¼‰ï¼šgenderï¼ˆæ€§åˆ«ï¼‰ã€marital_statusï¼ˆå©šå§»çŠ¶æ€ï¼‰
  - addressï¼ˆåœ°å€ï¼‰ï¼šaddress_typeï¼ˆåœ°å€ç±»å‹ï¼‰
  - national_idï¼ˆè¯ä»¶ï¼‰ï¼šnational_id_typeï¼ˆè¯ä»¶ç±»å‹ï¼‰
  - educationï¼ˆæ•™è‚²ç»å†ï¼‰ï¼šdegreeï¼ˆå­¦ä½ï¼‰ã€level_of_educationï¼ˆå­¦å†ï¼‰
  - person_info_chn (ä¸ªäººé™„åŠ ä¿¡æ¯) ï¼š hukou_typeï¼ˆæˆ·å£ç±»å‹ï¼‰
  - emergency_contactï¼ˆç´§æ€¥è”ç³»äººï¼‰ï¼šrelationshipï¼ˆå…³ç³»ï¼‰
  - dependentï¼ˆå®¶åº­æˆå‘˜ï¼‰ï¼šrelationship_with_dependentï¼ˆå…³ç³»ï¼‰
  - job_data ï¼ˆä»»èŒä¿¡æ¯ï¼‰ï¼šemployee_type (äººå‘˜ç±»å‹)
  - probation ï¼ˆè¯•ç”¨æœŸå¯¹è±¡ï¼‰ï¼šfinal_assessment_grade ï¼ˆè¯•ç”¨æœŸæœ€ç»ˆè€ƒæ ¸ç­‰çº§ï¼‰
  - departmentï¼ˆéƒ¨é—¨ï¼‰ï¼šsubtypeï¼ˆéƒ¨é—¨ç±»å‹ï¼‰

## è¯·æ±‚

| åŸºæœ¬ | |
| --- | --- |
| HTTP URL | `https://open.feishu.cn/open-apis/corehr/v1/common_data/meta_data/edit_enum_option` |
| HTTP Method | POST |
| æ”¯æŒçš„è®¿é—®ä»¤ç‰Œ | tenant_access_token |
| æ”¯æŒçš„åº”ç”¨ç±»å‹ | custom |
| æƒé™è¦æ±‚ | è¯»å†™å…ƒæ•°æ®ä¿¡æ¯ |
| æƒé™è¦æ±‚ | corehr:common_data.meta_data:write |

### æŸ¥è¯¢å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
| ------ | ---- | ---- | ---- |
| client_token | string | å¦ | ç”¨æˆ·è‹¥å¸Œæœ›é¿å…é‡è¯•å¯¼è‡´å¤šæ¬¡é‡å¤è¯·æ±‚ï¼Œå¯å¡«å†™éšæœºå­—ç¬¦ä¸²ï¼Œç³»ç»Ÿæ ¹æ® client_token æ˜¯å¦ä¸€è‡´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€è¯·æ±‚ |
### è¯·æ±‚ä½“

| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
| ------ | ---- | ---- | ---- |
| object_api_name | string | æ˜¯ | æ‰€å±å¯¹è±¡ API nameï¼Œå¯é€šè¿‡[è·å–é£ä¹¦äººäº‹å¯¹è±¡åˆ—è¡¨](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/custom_field/list_object_api_name)æ¥å£ä¸­è¿”å›çš„ `object_api_name` å­—æ®µè·å– <br> **ç¤ºä¾‹**: probation_management  |
| enum_field_api_name | string | æ˜¯ | æšä¸¾å­—æ®µ API nameï¼Œå¯é€šè¿‡[è·å–è‡ªå®šä¹‰å­—æ®µåˆ—è¡¨](/ssl:ttdoc/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/custom_field/query)æ¥å£ä¸­è¿”å›çš„ `custom_api_name` å­—æ®µè·å– <br> **ç¤ºä¾‹**: final_assessment_grade  |
| enum_field_option | object | æ˜¯ | æšä¸¾é€‰é¡¹ <br> **ç¤ºä¾‹**:   |

**ç±»å‹é¢å¤–è¯´æ˜**:

- **enum_field_option** ç±»å‹è¯´æ˜:

  åŸºæœ¬å±æ€§:

   option_api_name: string <br> active: boolean <br>
  - **name** (object):
    - **name** ç±»å‹è¯´æ˜:

      åŸºæœ¬å±æ€§:

       zh_cn: string <br> en_us: string <br>


**è¯·æ±‚ä½“ç¤ºä¾‹**:

```json
{
    "object_api_name": "probation_management",
    "enum_field_api_name": "final_assessment_grade",
    "enum_field_option": {
        "option_api_name": "grade_e",
        "active": true,
        "name": {
            "zh_cn": "cn",
            "en_us": "en"
        }
    }
}
```

### å“åº”

**å“åº”ç¤ºä¾‹**:

```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "enum_field_api_name": "final_assessment_grade",
        "enum_field_options": [
            {
                "option_api_name": "grade_e",
                "active": true,
                "name": {
                    "zh_cn": "cn",
                    "en_us": "en"
                }
            }
        ]
    }
}
```

### é”™è¯¯ç 

| HTTPçŠ¶æ€ç  | é”™è¯¯ç  | æè¿° | æ’æŸ¥å»ºè®® |
| ---------- | ------ | ---- | -------- |
| 500 | 1161999 | System error. Please try again later or contact technical support. | æœåŠ¡å†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ã€‚å¦‚æœ‰é—®é¢˜è¯·[è”ç³»æŠ€æœ¯æ”¯æŒ]((https://applink.feishu.cn/TLJpeNdW)) |
| 400 | 1160004 | client_token repeat | å…¥å‚ä¸­çš„ client_token é‡å¤ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰éé¢„æœŸçš„å¹¶å‘é‡è¯• |
| 400 | 1162010 | object does not exist | å¯¹è±¡ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ object_api_name å…¥å‚æ˜¯å¦æ­£ç¡® |
| 400 | 1162020 | field does not exist | å­—æ®µä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ enum_field_api_name å…¥å‚æ˜¯å¦æ­£ç¡® |
| 400 | 1162023 | the type of field does not match | å­—æ®µç±»å‹ä¸åŒ¹é…ï¼Œè¯·æ£€æŸ¥ enum_field_option å…¥å‚æ˜¯å¦æ­£ç¡® |
| 500 | 1162030 | enum set does not exist | æšä¸¾å¸¸é‡é›†ä¸å­˜åœ¨ï¼Œè¯·[è”ç³»æŠ€æœ¯æ”¯æŒ]((https://applink.feishu.cn/TLJpeNdW))å¤„ç† |
| 400 | 1162032 | the enum option api name already exists | æšä¸¾é€‰é¡¹çš„ API name å·²å­˜åœ¨ï¼Œæ— æ³•åˆ›å»ºåŒåçš„æ–°é€‰é¡¹ï¼Œè¯·æ£€æŸ¥å…¥å‚ |
| 400 | 1162034 | the associated enum set does not support changes yet | æ‰€ä¿®æ”¹çš„ç³»ç»Ÿé¢„ç½®æšä¸¾å¸¸é‡é›†ä¸åœ¨ç³»ç»Ÿå…è®¸çš„èŒƒå›´å†…ã€‚è¯·å‚è€ƒæ–‡æ¡£å¼€å¤´è¯´æ˜çš„å…è®¸èŒƒå›´ |
| 400 | 1162040 | enum option does not exist | æšä¸¾é€‰é¡¹ä¸å­˜åœ¨ï¼Œè¯·[è”ç³»æŠ€æœ¯æ”¯æŒ]((https://applink.feishu.cn/TLJpeNdW))å¤„ç† |

### è°ƒç”¨ç¤ºä¾‹

#### Nodejs SDK

```javascript
// node-sdkä½¿ç”¨è¯´æ˜ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/nodejs-sdk/preparation-before-development
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
const lark = require('@larksuiteoapi/node-sdk');

// å¼€å‘è€…å¤åˆ¶è¯¥Demoåï¼Œéœ€è¦ä¿®æ”¹Demoé‡Œé¢çš„"app id", "app secret"ä¸ºè‡ªå·±åº”ç”¨çš„appId, appSecret
const client = new lark.Client({
    appId: 'app id',
    appSecret: 'app secret',
    // disableTokenCacheä¸ºtrueæ—¶ï¼ŒSDKä¸ä¼šä¸»åŠ¨æ‹‰å–å¹¶ç¼“å­˜tokenï¼Œè¿™æ—¶éœ€è¦åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œè°ƒç”¨lark.withTenantToken("token")æ‰‹åŠ¨ä¼ é€’
    // disableTokenCacheä¸ºfalseæ—¶ï¼ŒSDKä¼šè‡ªåŠ¨ç®¡ç†ç§Ÿæˆ·tokençš„è·å–ä¸åˆ·æ–°ï¼Œæ— éœ€ä½¿ç”¨lark.withTenantToken("token")æ‰‹åŠ¨ä¼ é€’token
    disableTokenCache: true
});

client.corehr.v1.commonDataMetaData.editEnumOption({
        params: {
                client_token:'6727817538283013641',
        },
        data: {
                object_api_name:'probation_management',
                enum_field_api_name:'final_assessment_grade',
                enum_field_option:{
                        option_api_name:'grade_e',
                        active:true,
                        name:{
                          zh_cn:'cn',
                          en_us:'en',
                          },
                        },
        },
},
    lark.withTenantToken("t-7f1b******8e560")
).then(res => {
    console.log(res);
}).catch(e => {
    console.error(JSON.stringify(e.response.data, null, 4));
});

```

#### C#-restsharp

```csharp
var client = new RestClient("https://open.feishu.cn/open-apis/corehr/v1/common_data/meta_data/edit_enum_option?client_token=6727817538283013641");
client.Timeout = -1;
var request = new RestRequest(Method.POST);
request.AddHeader("Authorization", "Bearer t-7f1b******8e560");
request.AddHeader("Content-Type", "application/json");
var body = "{\"enum_field_api_name\":\"final_assessment_grade\",\"enum_field_option\":{\"active\":true,\"name\":{\"en_us\":\"en\",\"zh_cn\":\"cn\"},\"option_api_name\":\"grade_e\"},\"object_api_name\":\"probation_management\"}";
request.AddParameter("application/json", body,  ParameterType.RequestBody);
IRestResponse response = client.Execute(request);
Console.WriteLine(response.Content);
```

#### Php-guzzle

```php
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer t-7f1b******8e560',
  'Content-Type' => 'application/json'
];
$body = '{
    "object_api_name": "probation_management",
    "enum_field_api_name": "final_assessment_grade",
    "enum_field_option": {
        "option_api_name": "grade_e",
        "active": true,
        "name": {
            "zh_cn": "cn",
            "en_us": "en"
        }
    }
}';
$request = new Request('POST', 'https://open.feishu.cn/open-apis/corehr/v1/common_data/meta_data/edit_enum_option?client_token=6727817538283013641', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

#### Curl

```bash
curl -i -X POST 'https://open.feishu.cn/open-apis/corehr/v1/common_data/meta_data/edit_enum_option?client_token=6727817538283013641' \
-H 'Authorization: Bearer t-7f1b******8e560' \
-H 'Content-Type: application/json' \
-d '{
	"enum_field_api_name": "final_assessment_grade",
	"enum_field_option": {
		"active": true,
		"name": {
			"en_us": "en",
			"zh_cn": "cn"
		},
		"option_api_name": "grade_e"
	},
	"object_api_name": "probation_management"
}'
```

#### Golang SDK

```go
package main

import (
	"context"
	"fmt"
	"github.com/larksuite/oapi-sdk-go/v3"
	"github.com/larksuite/oapi-sdk-go/v3/core"
	"github.com/larksuite/oapi-sdk-go/v3/service/corehr/v1"
)

// SDK ä½¿ç”¨æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/golang-sdk-guide/preparations
// å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
func main() {
	// åˆ›å»º Client
	client := lark.NewClient("YOUR_APP_ID", "YOUR_APP_SECRET")
	// åˆ›å»ºè¯·æ±‚å¯¹è±¡
	req := larkcorehr.NewEditEnumOptionCommonDataMetaDataReqBuilder().
		ClientToken(`6727817538283013641`).
		Body(larkcorehr.NewEditEnumOptionCommonDataMetaDataReqBodyBuilder().
			ObjectApiName(`probation_management`).
			EnumFieldApiName(`final_assessment_grade`).
			EnumFieldOption(larkcorehr.NewEnumFieldOptionBuilder().
				OptionApiName(`grade_e`).
				Active(true).
				Name(larkcorehr.NewNameBuilder().
					ZhCn(`cn`).
					EnUs(`en`).
					Build()).
				Build()).
			Build()).
		Build()

	// å‘èµ·è¯·æ±‚
	resp, err := client.Corehr.V1.CommonDataMetaData.EditEnumOption(context.Background(), req)

	// å¤„ç†é”™è¯¯
	if err != nil {
		fmt.Println(err)
		return
	}

	// æœåŠ¡ç«¯é”™è¯¯å¤„ç†
	if !resp.Success() {
		fmt.Printf("logId: %s, error response: \n%s", resp.RequestId(), larkcore.Prettify(resp.CodeError))
		return
	}

	// ä¸šåŠ¡å¤„ç†
	fmt.Println(larkcore.Prettify(resp))
}

```

#### Python SDK

```python
import json

import lark_oapi as lark
from lark_oapi.api.corehr.v1 import *


# SDK ä½¿ç”¨è¯´æ˜: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/python--sdk/preparations-before-development
# ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
# å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
def main():
    # åˆ›å»ºclient
    client = lark.Client.builder() \
        .app_id("YOUR_APP_ID") \
        .app_secret("YOUR_APP_SECRET") \
        .log_level(lark.LogLevel.DEBUG) \
        .build()

    # æ„é€ è¯·æ±‚å¯¹è±¡
    request: EditEnumOptionCommonDataMetaDataRequest = EditEnumOptionCommonDataMetaDataRequest.builder() \
        .client_token("6727817538283013641") \
        .request_body(EditEnumOptionCommonDataMetaDataRequestBody.builder()
            .object_api_name("probation_management")
            .enum_field_api_name("final_assessment_grade")
            .enum_field_option(EnumFieldOption.builder()
                .option_api_name("grade_e")
                .active(True)
                .name(Name.builder()
                    .zh_cn("cn")
                    .en_us("en")
                    .build())
                .build())
            .build()) \
        .build()

    # å‘èµ·è¯·æ±‚
    response: EditEnumOptionCommonDataMetaDataResponse = client.corehr.v1.common_data_meta_data.edit_enum_option(request)

    # å¤„ç†å¤±è´¥è¿”å›
    if not response.success():
        lark.logger.error(
            f"client.corehr.v1.common_data_meta_data.edit_enum_option failed, code: {response.code}, msg: {response.msg}, log_id: {response.get_log_id()}, resp: \n{json.dumps(json.loads(response.raw.content), indent=4, ensure_ascii=False)}")
        return

    # å¤„ç†ä¸šåŠ¡ç»“æœ
    lark.logger.info(lark.JSON.marshal(response.data, indent=4))


if __name__ == "__main__":
    main()

```

#### Java SDK

```java
package com.lark.oapi.sample.apiall.corehrv1;
import com.google.gson.JsonParser;
import com.lark.oapi.Client;
import com.lark.oapi.core.utils.Jsons;
import com.lark.oapi.service.corehr.v1.model.*;
import java.util.HashMap;
import com.lark.oapi.core.request.RequestOptions;

// SDK ä½¿ç”¨æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/java-sdk-guide/preparations
// å¤åˆ¶è¯¥ Demo å, éœ€è¦å°† "YOUR_APP_ID", "YOUR_APP_SECRET" æ›¿æ¢ä¸ºè‡ªå·±åº”ç”¨çš„ APP_ID, APP_SECRET.
// ä»¥ä¸‹ç¤ºä¾‹ä»£ç é»˜è®¤æ ¹æ®æ–‡æ¡£ç¤ºä¾‹å€¼å¡«å……ï¼Œå¦‚æœå­˜åœ¨ä»£ç é—®é¢˜ï¼Œè¯·åœ¨ API è°ƒè¯•å°å¡«ä¸Šç›¸å…³å¿…è¦å‚æ•°åå†å¤åˆ¶ä»£ç ä½¿ç”¨
public class EditEnumOptionCommonDataMetaDataSample{

  public static void main(String arg[]) throws Exception {
      // æ„å»ºclient
      Client client = Client.newBuilder("YOUR_APP_ID", "YOUR_APP_SECRET").build();

      // åˆ›å»ºè¯·æ±‚å¯¹è±¡
      EditEnumOptionCommonDataMetaDataReq req = EditEnumOptionCommonDataMetaDataReq.newBuilder()
             .clientToken("6727817538283013641")
             .editEnumOptionCommonDataMetaDataReqBody(EditEnumOptionCommonDataMetaDataReqBody.newBuilder()
                 .objectApiName("probation_management")
                 .enumFieldApiName("final_assessment_grade")
                 .enumFieldOption(EnumFieldOption.newBuilder()
                        .optionApiName("grade_e")
                        .active(true)
                        .name(Name.newBuilder()
                          .zhCn("cn")
                          .enUs("en")
                          .build())
                        .build())
                  .build())
             .build();

      // å‘èµ·è¯·æ±‚
      EditEnumOptionCommonDataMetaDataResp resp = client.corehr().v1().commonDataMetaData().editEnumOption(req);

       // å¤„ç†æœåŠ¡ç«¯é”™è¯¯
       if (!resp.success()) {
         System.out.println(String.format("code:%s,msg:%s,reqId:%s, resp:%s",
                    resp.getCode(), resp.getMsg(), resp.getRequestId(), Jsons.createGSON(true, false).toJson(JsonParser.parseString(new String(resp.getRawResponse().getBody(), StandardCharsets.UTF_8)))));
         return;
       }

       // ä¸šåŠ¡æ•°æ®å¤„ç†
         System.out.println(Jsons.DEFAULT.toJson(resp.getData()));
  }
}

```

