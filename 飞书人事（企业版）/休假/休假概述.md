# 什么是休假

休假是「飞书人事」提供的核心业务模块之一，主要提供假期设置、假期管理、自助休假等方面的能力。

# 名词解释

模块  | 说明                                                                 |
| ---- | ------------------------------------------------------------------ |
| 节假日  | 节假日是普通公休日以外的休假日期，休假系统支持配置节假日的起止日期、节日日期和调休上班日期                      |
| 假期类型 | 员工申请时所选择的假期类型，例如：年假、病假、事假、产假等                                      |
| 假期计划 | 定义假期的具体规则，例如哪些人可申请、每人发放多少额度、申请休假时的限制条件等等                           |
| 发放记录 | 假期发放的原始额度，以及生效日期、失效日期等，例如：今年的年假是 2024-01-01 生效，2024-12-31 失效，共 5 天 |
| 请假记录 | 请假申请记录，包含假期类型、请假起止日期等，例如：2024-01-03 ~ 2024-01-04，申请 2 天年假         |
| 假期余额 | 结合发放记录、请假记录，计算员工在某一时间的余额，例如：2024-01-01 时，年假发放 5 天，已使用 2 天，剩余 3 天   |
| 自助休假 | 员工休假相关的操作，包含申请休假、更正休假、取消休假、返岗等

# 业务实体关系

![20240603-222335.jpeg](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/3538f467b458faf58a7d3aff8b0d3e06_M3lIrNV1Cy.jpeg?height=1150&lazyload=true&maxWidth=700&width=1206)

# 假期申请核心概念
- 假期类型：假期的分类，如：年假、法定年假、福利年假、调休假、婚假、陪产假等
- 使用规则：申请/更正休假时，需要满足的条件。满足这些条件才能请假，这些条件的集合即使用规则
- 休假流程：休假目前有五个流程，分别是：
    - 申请流程：员工自助申请休假时用到的流程
    - 代提申请流程：leader给下级代提或者hr给员工代提所用到的流程
    - 更正流程：更正休假时用到的流程
    - 取消流程：取消休假时用到的流程
    - 返岗流程：一种特殊的更正流程，不受使用规则的限制，当用户填完返岗时间后，休假结束时间默认为返岗的前一天
- 请假记录状态：
    - 审批中
    - 审批中（取消休假）
    - 审批中（返岗）
    - 审批中（更正）
    - 已拒绝
    - 已撤回
    - 已取消
    - 已返岗
# 假期发放核心概念
- 假期计划版本：配置假期具体的发放规则 & 使用规则，如：给哪些员工发放，发放多少额度，限制员工每次请假的额度等
- 发放记录：用于记录员工的假期额度信息，如：生效日期，失效日期，发放数量（额度）等。另外，管理员可以人工授予授予记录，人工授予的授予记录数量可以为负数
- 发放规则：用于计算发放记录的配置，包含发放周期，发放数量（额度），发放单位等配置
- 发放周期：两次完整授予之间相隔的时间，通常情况下，每个发放周期只会生成一条发放记录（异动场景除外）
- 发放频率：授予的发放记录释放额度的频次，如每月发放
- 发放数量：该条发放记录可用来休假的数量，发放数量的单位分为天和小时
- 生效/失效日期：发放记录可以被员工用于休假的最早/最晚的日期，如 员工申请 2023-02-01 的假期，那么只能使用 生效~失效日期 包含2023-02-01的发放记录
- 结转：「发放记录」到期后，余额可以选择「清零」或「结转」，若选择「结转」，那么余额会作为历史周期的余额结转，在结转过期日期之前，结转余额仍然可用
- 折算：当员工在发放周期内异动到其他假期计划时，会对当前发放周期的发放额度进行折算
- 适用范围：定义适用于该假期计划版本的人员范围，通过发放规则给适用范围内的员工生成发放记录
- 版本执行计划：每个「按周期发放」的假期计划版本会生成多个版本执行计划，用于周期性生成版本内员工的发放记录
- 员工执行计划：当员工异动或个人信息（比如司龄起算日期）发生变化时，会生成多个员工执行计划，用于修正员工异动后的发放记录

# 应用场景

| 接口         | 应用场景                                                                                                              |
| ---------- | ----------------------------------------------------------------------------------------------------------------- |
| [创建假期发放记录](https://open.larkoffice.com/document/server-docs/corehr-v1/leave/create)   |当飞书人事休假系统的发放规则无法完全满足企业诉求时，可调用该接口完成假期额度的发放。例如：企业使用第三方加班系统 + 飞书人事休假系统，当员工发起加班申请并审批通过后，需创建发放记录完成调休假额度的发放|
| [删除假期发放记录](https://open.larkoffice.com/document/server-docs/corehr-v1/leave/delete)   |当飞书人事休假系统的发放规则无法完全满足企业诉求时，可调用该接口删除「非系统发放」的发放记录。例如：企业使用第三方加班系统 + 飞书人事休假系统，员工撤销一条加班申请并审批通过后，需删除发放记录完成调休假额度的回收|
| [获取假期类型列表](https://open.larkoffice.com/document/server-docs/corehr-v1/leave/leave_types)   |当企业有查询假期类型列表的诉求时，可调用该接口查询假期类型列表。例如：企业使用第三方审批系统，员工在发起休假申请时需调用接口查询该员工所适配的所有假期类型|
| [批量查询员工假期余额](https://open.larkoffice.com/document/server-docs/corehr-v1/leave/leave_balances) |当飞书人事休假系统的余额相关功能无法满足企业诉求时，可调用该接口完成假期额度的查询。例如：企业使用第三方报表系统，可通过调用该接口获取报表数据|
| [批量查询员工请假记录](https://open.larkoffice.com/document/server-docs/corehr-v1/leave/leave_request_history) | 企业可通过该接口批量查询员工的请假记录。例如：调用该接口获取请假记录，用于企业内部分析展示使用|
| 通过过期时间获取发放记录 | 企业可通过该接口批量查询员工对应时间段内过期的发放记录。例如：用于企业内部分析展示使用|
| 修改发放记录 | 企业可通过该接口更新发放记录的发放数量和失效日期。注意：由系统生成的发放记录不可被更新|